<!DOCTYPE html>
<html lang="ar" dir="rtl" id="index-html-root">

<head id="index-page-head">
  <meta charset="UTF-8" id="index-meta-charset" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" id="index-meta-viewport" />
  <title id="index-page-title">Suez Bazaar</title>
  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" id="index-favicon-icon" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" id="index-favicon-shortcut" />
  <link id="font-tajawal" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://unpkg.com/@zxing/library@latest"></script>

  <!-- โ ุฑุจุท ููู ุงููุชุบูุฑุงุช ูุงุณุชุฎุฏุงููุง ูู ุงูุฃููุงุท ุงูุฏุงุฎููุฉ -->
  <link rel="stylesheet" href="style/variables.css" />
  <script src="/shared/categoryModal.js"></script>
  <script src="/js/cloudFileManager.js"></script>
  <script src="/js/cardPackage.js"></script>

  <script src="/js/forms.js"></script>

  <!-- ุฑุจุท ููู ุงูุฃููุงุท ุงูุฎุงุฑุฌู -->
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      /* Prevent scrollbars on the body */
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-direction: column;
      /* ูุฌุนู ุงููุญุชูู ุงูุฑุฆูุณู ูุงูุชุฐููู ูุชุฑุชุจุงู ุนููุฏููุง */
    }

    .add-product-modal__hidden-file {
      display: none;
    }


    /* โ ุชุนุฏูู: ุฅุนุงุฏุฉ ุชุณููุฉ ุงููุฆุฉ ูุชุทุจูู Flexbox */
    .index-app-header {
      display: flex;
      justify-content: flex-start;
      /* ูุญุงุฐุงุฉ ุงูุนูุงุตุฑ ูู ุจุฏุงูุฉ ุงูุญุงููุฉ (ุงููููู ูู RTL) */
      align-items: center;
      flex-wrap: nowrap;
      /* ููุน ุงูุนูุงุตุฑ ูู ุงูุงูุชูุงู ุฅูู ุณุทุฑ ุฌุฏูุฏ */
      overflow-x: auto;
      /* ุฅุถุงูุฉ ุดุฑูุท ุชูุฑูุฑ ุฃููู ุนูุฏ ุงูุญุงุฌุฉ */
      background-color: var(--bg-color-light);
      padding: 15px 20px;
      box-shadow: var(--shadow-interactive);
      /* ุชุบููุฑ ุงูุธู ููุตุจุญ ุณููููุง */
      z-index: 1000;
      /* ูุถูุงู ุธููุฑู ููู ุงููุญุชูู ุงูุขุฎุฑ */
    }

    .index-header-login-btn {
      /* โ ุชุนุฏูู: ุงุณุชุฎุฏุงู Flexbox ูุชุฑุชูุจ ุงูุฃููููุฉ ูุงููุต ุนููุฏูุงู */
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      /* ูุณุงูุฉ ุจูู ุงูุฃููููุฉ ูุงููุต */

      /* โ ุชุนุฏูู: ุฅุฒุงูุฉ ุงูุฎูููุฉ ูุงูุญุฏูุฏ ูุฌุนูู ูุจุฏู ูุฃููููุฉ ููุต ููุท */
      background-color: transparent;
      border: none;
      padding: 5px;
      /* ุชูููู ุงูุญุดู */

      font-family: "Tajawal", sans-serif;
      text-decoration: none;
      cursor: pointer;
      transition: transform 0.2s;
      position: relative;
      /* โ ุฌุฏูุฏ: ุถุฑูุฑู ูุชุญุฏูุฏ ููุถุน ุงูุดุงุฑุฉ ุจุดูู ุตุญูุญ */
    }

    /* โ ุฌุฏูุฏ: ุชูุณูู ุงูุฃููููุฉ */
    .index-header-login-btn .index-user-icon {
      font-size: 20px;
      /* ุชูุจูุฑ ุญุฌู ุงูุฃููููุฉ */
      color: var(--primary-color);
      /* ููู ุงูุฃููููุฉ */
    }

    /* โ ุฌุฏูุฏ: ุชูุณูู ุงููุต */
    .index-header-login-btn span {
      font-size: 8px;
      /* ุชุตุบูุฑ ุญุฌู ุงูุฎุท */
      color: var(--dark-blue);
      white-space: nowrap;
      /* โ ุฌุฏูุฏ: ููุน ุงููุต ูู ุงูุงููุณุงู ุฅูู ุณุทุฑูู */
    }

    .index-header-login-btn {
      /* ... ุงูุฃููุงุท ุงูุญุงููุฉ ููุฒุฑ ... */

      /* โ ุฌุฏูุฏ: ุฅุถุงูุฉ ุฎุตุงุฆุต ุงูุงูุชูุงู ููุชุญูู ูู ุงูุงูููุดู */
      /* โ ุชุญุณูู: ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุฎุตุงุฆุต ููุงูููุดู ูุถูุงู ุงุฎุชูุงุก ูุงูู */
      opacity: 1;
      margin-left: 20px;
      margin-right: 5px;
      transform: translateY(0);
      max-width: 100px;
      /* ุชุญุฏูุฏ ุนุฑุถ ุฃูุตู ููุณูุงุญ ุจุงูุงูููุดู */
      transition: opacity 0.3s ease, transform 0.3s ease, max-width 0.5s ease,
        padding 0.5s ease, margin 0.5s ease;
    }

    .index-header-login-btn.index-hidden {
      /* โ ุฌุฏูุฏ: ุชุญุฏูุฏ ุญุงูุฉ ุงูุฒุฑ ุนูุฏูุง ูููู ูุฎููุงู */
      /* โ ุชุญุณูู: ุฌุนู ุงูุฒุฑ ูุชููุต ููุฎุชูู ุชูุงููุง ูู ุงูุชุฎุทูุท */
      opacity: 0;
      transform: translateY(-10px
          /* ุชุญุฑูู ุงูุฒุฑ ููุฃุนูู ููููุงู ุนูุฏ ุงูุงุฎุชูุงุก */
        );
      pointer-events: none;
      /* ููุน ุงูุชูุงุนู ูุน ุงูุฒุฑ ุฃุซูุงุก ุงุฎุชูุงุฆู */
      max-width: 0;
      /* ุฌุนู ุงูุนุฑุถ ุตูุฑูุง ูุฅุฒุงูุฉ ุงูุฒุฑ ูู ุงูุชุฏูู */
      padding-left: 0;
      padding-right: 0;
      /* โ ุญู ูุดููุฉ ุงููุฌูุฉ: ุฅุฒุงูุฉ ุงูููุงูุด ุจุงููุงูู ุนูุฏ ุงูุฅุฎูุงุก */
      margin: 0;
    }

    /* โ ุฌุฏูุฏ: ุชูุณูู ุงูุฒุฑ ุงููุดุท */
    .index-header-login-btn.active {
      border-bottom: 2px solid var(--primary-color);
      background-color: var(--primary-color-light);
      color: var(--primary-color);
      border-radius: 8px;
    }

    .index-header-login-btn.active .index-user-icon {
      color: var(--primary-color);
    }

    .index-header-login-btn.active span {
      color: var(--primary-color);
      font-weight: bold;
    }

    /* โ ุฌุฏูุฏ: ุฃููุงุท ุดุงุฑุฉ ุนุฏุฏ ุงูููุชุฌุงุช ูู ุงูุณูุฉ */
    .cart-badge {
      position: absolute;
      top: -5px;
      /* ุชุนุฏูู ุงูููุถุน ุงูุฑุฃุณู */
      right: -8px;
      /* ุชุนุฏูู ุงูููุถุน ุงูุฃููู */
      background-color: var(--accent-color);
      /* ููู ุงูุฎูููุฉ */
      border-radius: 50%;
      /* ูุฌุนููุง ุฏุงุฆุฑูุฉ */
      width: 18px;
      /* ุนุฑุถ ุงูุดุงุฑุฉ */
      height: 18px;
      /* ุงุฑุชูุงุน ุงูุดุงุฑุฉ */
      font-size: 10px;
      /* ุญุฌู ุงูุฎุท */
      font-weight: bold;
      display: flex;
      /* ูุชูุณูุท ุงูุฑูู */
      align-items: center;
      justify-content: center;
      border: 2px solid var(--bg-color-light);
      /* ุฅุถุงูุฉ ุญุฏูุฏ ููุตููุง ุนู ุงูุฎูููุฉ */
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      /* ุธู ุฎููู */

      /* ุฅุฎูุงุก ุงูุดุงุฑุฉ ุงูุชุฑุงุถููุง */
      display: none;
    }

    /* โ ุฌุฏูุฏ: ุชูุณูู ุงูุนูุงูุฉ ุงููุงุฆูุฉ ููุถุน ุงููุณุคูู */
    .admin-watermark {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: rgba(220, 53, 69, 0.9);
      /* ููู ุฃุญูุฑ ุดูุงู */
      color: white;
      padding: 8px 15px;
      border-radius: 25px;
      font-family: 'Tajawal', sans-serif;
      font-size: 12px;
      z-index: 9999;
      pointer-events: none;
      /* ููุณูุงุญ ุจุงูููุฑ ูู ุฎูุงููุง */
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 8px;
      direction: rtl;
    }

    .admin-watermark i {
      font-size: 14px;
    }
  </style>
</head>

<body id="index-app-body">
  <header class="index-app-header" id="index-app-header">
    <!-- ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู -->
    <button class="index-header-login-btn" id="index-login-btn">
      <i class="fas fa-user-circle index-user-icon" id="index-login-icon"></i>
      <span id="index-login-text">ุชุณุฌูู ุงูุฏุฎูู</span>
    </button>

    <!-- ุฒุฑ ุงูุฑุฆูุณูุฉ -->
    <button class="index-header-login-btn" id="index-home-btn">
      <i class="fas fa-home index-user-icon" id="index-home-icon"></i>
      <span id="index-home-text">ุงูุฑุฆูุณูุฉ</span>
    </button>

    <!-- ุฒุฑ ุงูุจุญุซ -->
    <button class="index-header-login-btn" id="index-search-btn">
      <i class="fas fa-search index-user-icon" id="index-search-icon"></i>
      <span id="index-search-text">ุจุญุซ</span>
    </button>

    <!-- ุฒุฑ ุญุฑูุฉ ุงููุดุชุฑูุงุช -->
    <button class="index-header-login-btn" id="index-sales-movement-btn">
      <i class="fas fa-history index-user-icon" id="index-sales-icon"></i>
      <span id="index-sales-text">ูุดุชุฑูุงุช</span>
    </button>

    <!-- ุฒุฑ ุงูุณูุฉ -->
    <button class="index-header-login-btn" id="index-cart-btn">
      <i class="fas fa-shopping-cart index-user-icon" id="index-cart-icon"></i>
      <span id="index-cart-text">ุงูุณูุฉ</span>
    </button>

    <!-- ุฌุฏูุฏ: ุฒุฑ ุงููุฏุงูุง -->
    <button class="index-header-login-btn" id="index-gifts-btn">
      <i class="fas fa-gift index-user-icon" id="index-gifts-icon"></i>
      <span id="index-gifts-text">ูุฏุงูุง</span>
    </button>
    <!-- ุฌุฏูุฏ: ุฒุฑ ุฅุถุงูุฉ ููุชุฌ -->
    <button class="index-header-login-btn" id="dash-add-product-btn">
      <i class="fas fa-plus index-user-icon"></i>
      <span>ุฅุถุงูุฉ ููุชุฌ</span>
    </button>

    <!-- ุฌุฏูุฏ: ุฒุฑ ููุชุฌุงุชู -->
    <button class="index-header-login-btn" id="dash-view-my-products-btn">
      <i class="fas fa-archive index-user-icon"></i>
      <span>ููุชุฌุงุชู</span>
    </button>

    <!-- ุฒุฑ ุงูุฅุดุนุงุฑุงุช -->
    <button class="index-header-login-btn" id="index-notifications-btn">
      <i class="fas fa-bell index-user-icon" id="index-notifications-icon"></i>
      <span id="index-notifications-text">ุฅุดุนุงุฑุงุช</span>
    </button>

    <!-- ุฒุฑ ุชูุงุตู ูุนูุง -->
    <button class="index-header-login-btn" id="index-contact-btn">
      <i class="fas fa-phone index-user-icon" id="index-contact-icon"></i>
      <span id="index-contact-text">ุชูุงุตู ูุนูุง</span>
    </button>
  </header>
  <div id="index-home-container"></div>
  <div id="index-search-container"></div>
  <div id="index-user-container"></div>
  <div id="index-product-container"></div>
  <div id="index-cardPackage-container"></div>
  <div id="index-myProducts-container"></div>
  <div id="index-contact-container"></div>
  <!---region main javaScript files---->
  <script src="js/auth.js" id="index-script-auth-js"></script>
  <!-- ููู ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ูููุดุฑูุน (ูุซู baseURL) -->
  <script src="js/config.js"></script>
  <script src="js/connectUsers.js"></script>
  <script src="js/connectProduct.js"></script>
  <script src="js/network.js" id="index-script-network-js"></script>
  <script src="NOTIFICATIONS/notificationSetUp.js"></script>
  <script src="NOTIFICATIONS/notificationTools.js"></script>
  <script src="NOTIFICATIONS/notification-db-manager.js"></script>
  <script src="js/tools.js" id="index-script-tools-js"></script>
  <script src="js/globalVariable.js"></script>

  <!---end region main javaScript files---->
  <script>


    // ุฏุงูุฉ ูุฅุฎูุงุก ุฃููููุฉ "ุงูุฑุฆูุณูุฉ" ุนู ุทุฑูู ุฅุถุงูุฉ ูุฆุฉ CSS.
    function hiddenHomeIcon() {
      const homeButton = document.getElementById("index-home-btn");
      if (homeButton) {
        homeButton.classList.add("index-hidden");
      }
    }
    // ุฏุงูุฉ ูุฅุธูุงุฑ ุฃููููุฉ "ุงูุฑุฆูุณูุฉ" ุนู ุทุฑูู ุฅุฒุงูุฉ ูุฆุฉ CSS.
    function showHomeIcon() {
      const homeButton = document.getElementById("index-home-btn");
      if (homeButton) {
        homeButton.classList.remove("index-hidden");
      }
    }

    // [ููุทุฉ ุงูุจุฏุงูุฉ] ูุชู ุชูููุฐ ูุฐุง ุงูููุฏ ุจุนุฏ ุชุญููู ูุญุชูู DOM ุจุงููุงูู.
    document.addEventListener("DOMContentLoaded", () => {
      // [ุฎุทูุฉ 1] ูุฑุงุกุฉ ุจูุงูุงุช ุงููุณุชุฎุฏู ุงููุณุฌู ูู ุงูุชุฎุฒูู ุงููุญูู. ุฅุฐุง ูู ุชูุฌุฏุ ุชููู ุงููููุฉ null.
      userSession = JSON.parse(localStorage.getItem("loggedInUser")) || null;
      // [ุฎุทูุฉ 2] ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู ูู ุดุฑูุท ุงูุชููู ุงูุนููู.
      setUserNameInIndexBar();
      // [ุฎุทูุฉ 3] ุชุญุฏูุซ ุดุงุฑุฉ ุนุฏุฏ ุงูููุชุฌุงุช ูู ุงูุณูุฉ.
      updateCartBadge();
      // [ุฎุทูุฉ 4] ุชุญููู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุจุดูู ุงูุชุฑุงุถู ุนูุฏ ูุชุญ ุงูุชุทุจูู.
      mainLoader(
        "./pages/home.html",
        "index-home-container",
        0,
        undefined,
        // ุงุณุชุฏุนุงุก ุฏุงูุฉ ูุฅุฎูุงุก ุฒุฑ "ุงูุฑุฆูุณูุฉ" ูุฃูู ุจุงููุนู ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ.
        "hiddenHomeIcon"
      );

      //#region main navigation handlers
      document
        .getElementById("index-login-btn")
        .addEventListener("click", handleLoginButtonClick);

      // [ุฎุทูุฉ 5.2] ุฑุจุท ุฒุฑ "ุงูุฑุฆูุณูุฉ" ุจุงูุฏุงูุฉ ุงูุฎุงุตุฉ ุจู.
      document
        .getElementById("index-home-btn")
        .addEventListener("click", handleHomeButtonClick);

      // [ุฎุทูุฉ 5.3] ุฑุจุท ุฒุฑ "ุงูุจุญุซ" ุจุงูุฏุงูุฉ ุงูุฎุงุตุฉ ุจู.
      document
        .getElementById("index-search-btn")
        .addEventListener("click", handleSearchButtonClick);

      // [ุฎุทูุฉ 5.4] ุฑุจุท ุฒุฑ "ุญุฑูุฉ ุงููุดุชุฑูุงุช".
      document
        .getElementById("index-sales-movement-btn")
        .addEventListener("click", async () => {
          // ุงูุชุญูู ุฃููุงู ูู ูุฌูุฏ ูุณุชุฎุฏู ูุณุฌู.
          if (userSession) {
            const container = document.getElementById(
              "index-myProducts-container"
            );
            if (container.innerHTML == "") {
              await mainLoader(
                "./pages/sales-movement.html",
                "index-myProducts-container",
                300,
                undefined,
                "showHomeIcon",
                true
              );
            } else {
              await mainLoader(
                "./pages/sales-movement.html",
                "index-myProducts-container",
                300,
                undefined,
                "showHomeIcon",
                false
              );
            }
          } else {
            // ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ูุณุฌูุงูุ ูุชู ุนุฑุถ ูุงูุฐุฉ ููุจุซูุฉ ุชุทูุจ ููู ุชุณุฌูู ุงูุฏุฎูู.
            Swal.fire({
              icon: "info",
              title: "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู",
              text: "ููุชุงุจุนู ูุดุชุฑูุงุชู ูููุชุฌุงุชูุ ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู.",
              showCancelButton: true,
              confirmButtonText: "ุชุณุฌูู ุงูุฏุฎูู",
              cancelButtonText: "ุฅูุบุงุก",
            }).then((result) => {
              if (result.isConfirmed) {
                // ุฅุฐุง ูุงูู ุงููุณุชุฎุฏูุ ูุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.
                console.log("[Modal] User chose to log in. Redirecting...");
                mainLoader(
                  "./pages/login.html",
                  "index-user-container",
                  0,
                  undefined,
                  "hiddenLoginIcon",
                  true
                );
              }
            });
          }
        });

      // [ุฎุทูุฉ 5.9] ุฑุจุท ุฒุฑ "ุงูุฅุดุนุงุฑุงุช".
      document
        .getElementById("index-notifications-btn")
        .addEventListener("click", () => {
          console.log("๐ ุชู ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุดุนุงุฑุงุช - Notifications Button Clicked");
          console.log("ุงูููุช:", new Date().toLocaleString('ar-EG'));
          console.log("ุงููุณุชุฎุฏู:", userSession ? userSession.username : "ุบูุฑ ูุณุฌู");
        });

      document
        .getElementById("index-contact-btn")
        .addEventListener("click", handleContactButtonClick);


      // [ุฎุทูุฉ 5.5] ุฑุจุท ุฒุฑ "ุงูุณูุฉ".
      document
        .getElementById("index-cart-btn")
        .addEventListener("click", () => {
          const container = document.getElementById(
            "index-cardPackage-container"
          );
          if (container.innerHTML == "") {
            mainLoader(
              "./pages/cardPackage.html",
              "index-cardPackage-container",
              0,
              undefined,
              "showHomeIcon",
              true
            );
          } else {
            mainLoader(
              "./pages/cardPackage.html",
              "index-cardPackage-container",
              0,
              undefined,
              "showHomeIcon",
              false
            );
          }
        });

      // [ุฎุทูุฉ 5.6] ุฑุจุท ุฒุฑ "ุงููุฏุงูุง".
      document
        .getElementById("index-gifts-btn")
        .addEventListener("click", () =>
          handleProtectedLinkClick("./pages/gifts.html")
        );



      // ุฏุงูุฉ ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุฒุฑ "ุงูุฑุฆูุณูุฉ".
      function handleHomeButtonClick() {
        const container = document.getElementById("index-home-container");
        if (container.innerHTML == "") {
          mainLoader(
            "pages/home.html",
            "index-home-container",
            0,
            undefined,
            "hiddenHomeIcon",
            true
          );
        } else {
          mainLoader(
            "pages/home.html",
            "index-home-container",
            0,
            undefined,
            "hiddenHomeIcon",
            false
          );
        }
      }

      // ุฏุงูุฉ ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู / ููุญุฉ ุงูุชุญูู".
      function handleLoginButtonClick() {
        try {
          if (userSession) {
            // [ุฃ] ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌูุงูุ ูุชู ุชูุฌููู ุฅูู ููุญุฉ ุงูุชุญูู.
            // ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุณุฌูุงูุ ุงุฐูุจ ุฅูู ููุญุฉ ุงูุชุญูู
            mainLoader(
              "pages/user-dashboard.html",
              "index-user-container",
              0,
              undefined,
              "showHomeIcon",
              true
            );
          } else {
            // [ุจ] ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ูุณุฌูุงูุ ูุชู ุชูุฌููู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.
            mainLoader(
              "pages/login.html",
              "index-user-container",
              0,
              undefined,
              "showHomeIcon",
              true
            );
          }
        } catch (error) {
          console.error("ุฎุทุฃ ูู ุงูุชุนุงูู ูุน ุฒุฑ ุชุณุฌูู ุงูุฏุฎูู:", error);
        }
      }

      // ุฏุงูุฉ ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุฒุฑ "ุงูุจุญุซ".
      function handleSearchButtonClick() {
        const container = document.getElementById("index-search-container");
        if (container.innerHTML == "") {
          mainLoader(
            "pages/search.html",
            "index-search-container",
            0,
            undefined,
            "showHomeIcon",
            true
          );
        } else {
          mainLoader(
            "pages/search.html",
            "index-search-container",
            0,
            undefined,
            "showHomeIcon",
            false
          );
        }
      }

      // ุฏุงูุฉ ูุนุงูุฌุฉ ุงูููุฑ ุนูู ุฒุฑ "ุงุชุตุงู".
      function handleContactButtonClick() {
        const container = document.getElementById("index-contact-btn");
        mainLoader(
          "pages/contact.html",
          "index-contact-container",
          0,
          undefined,
          "showHomeIcon",
          true
        );

      }

      // [ุฎุทูุฉ 5.7] ุฑุจุท ุฒุฑ "ุฅุถุงูุฉ ููุชุฌ".
      const addProductBtn = document.getElementById("dash-add-product-btn");
      if (addProductBtn) {
        addProductBtn.addEventListener("click", showAddProductModal);
      }

      // [ุฎุทูุฉ 5.8] ุฑุจุท ุฒุฑ "ููุชุฌุงุชู".
      const viewMyProductsBtn = document.getElementById(
        "dash-view-my-products-btn"
      );
      if (viewMyProductsBtn) {
        viewMyProductsBtn.addEventListener("click", async () => {
          console.log(myProducts);
          mainLoader(
            "pages/product2Me.html",
            "index-myProducts-container",
            0,
            undefined,
            "showHomeIcon",
            true
          );
        });
      }
      //#endregion

      // [ุฎุทูุฉ 6] ููุทู ุชุญุฏูุฏ ุงูุฒุฑ ุงููุดุท ูู ุดุฑูุท ุงูุชููู.
      const headerButtons = document.querySelectorAll(".index-header-login-btn");

      function setActiveButton(clickedBtn) {
        // [ุฃ] ุฅุฒุงูุฉ ูุฆุฉ 'active' ูู ุฌููุน ุงูุฃุฒุฑุงุฑ.
        headerButtons.forEach((btn) => btn.classList.remove("active"));
        if (clickedBtn) {
          clickedBtn.classList.add("active");
        }
      }

      headerButtons.forEach((btn) => {
        // [ุจ] ุฅุถุงูุฉ ูุณุชูุน ููู ุฒุฑ ูุชุทุจูู ุงูุญุงูุฉ ุงููุดุทุฉ ุนูุฏ ุงูููุฑ ุนููู.
        btn.addEventListener("click", function () {
          setActiveButton(this);
        });
      });

      // [ุฎุทูุฉ 7] ุชุนููู ุฒุฑ "ุงูุฑุฆูุณูุฉ" ููุดุท ุงูุชุฑุงุถููุง ุนูุฏ ุชุญููู ุงูุตูุญุฉ.
      const homeBtn = document.getElementById("index-home-btn");
      if (homeBtn) {
        setActiveButton(homeBtn);
      }

      // [ุฎุทูุฉ 8] ุงูุชุญูู ูู ูุถุน ุงูุชุญุงู ุงูุดุฎุตูุฉ (ุนูุฏูุง ูุชุตูุญ ูุณุคูู ูุฃูู ูุณุชุฎุฏู ุนุงุฏู) ูุฅุธูุงุฑ ุนูุงูุฉ ูุงุฆูุฉ ุฅุฐุง ูุงู ูุดุทูุง.
      checkImpersonationMode();
    });


  </script>
</body>

</html>