دليل ملف إعدادات التوصيل (Delivery Config Guide)
===================================================

يتحكم ملف "delivery_config.json" في جميع العمليات الحسابية الخاصة بتكلفة التوصيل، بالإضافة إلى القيم الافتراضية للنظام. فيما يلي شرح تفصيلي لكل مفتاح وتأثيره على الحسابات البرمجية.

1. القيم الأساسية والافتراضية (defaults)
----------------------------------------
هذا القسم يحتوي على الثوابت المالية، الإحداثيات الجغرافية، والإعدادات العامة.

- base_fee:
  الرسوم الأساسية للتوصيل.
  التأثير: قيمة ثابتة تُضاف دائماً لإجمالي الفاتورة مهما كانت المسافة.

- price_per_km:
  سعر الكيلومتر الواحد.
  التأثير: يُضرب في المسافة الكلية لحساب "تكلفة المسافة الأساسية".

- high_order_value_threshold:
  حد اعتبار الطلب "مرتفع القيمة".
  التأثير: رقم للمقارنة فقط. إذا كان إجمالي الطلب أكبر من أو يساوي هذا الرقم، يتم تطبيق high_order_fee.

- high_order_fee:
  رسوم الطلب المرتفع (تأمين).
  التأثير: قيمة ثابتة تُضاف فقط إذا تجاوز الطلب الحد أعلاه.

- discount_threshold:
  حد استحقاق الخصم.
  التأثير: إذا كانت قيمة الطلب "أقل" من هذا الرقم، يحصل العميل على خصم discount_value.

- discount_value:
  قيمة الخصم.
  التأثير: قيمة ثابتة تُخصم من الإجمالي (بالسالب) إذا تحقق شرط الخصم.

- special_vehicle_factor:
  معامل المركبة الخاصة/الحمولة.
  التأثير: نسبة مئوية (مثلاً 0.5 = 50%) تُضرب في "تكلفة المسافة"، وتُضاف إذا كان الطلب يحتوي على منتجات تتطلب شاحنة.

- vehicle_type:
  المركبة الافتراضية. (bike / car / truck)
  التأثير: القيمة الافتراضية المستخدمة في الحساب إذا لم تُحدد في الطلب.

- weather:
  الطقس الافتراضي. (normal / rain)
  التأثير: الحالة الجوية الافتراضية المستخدمة لاختيار معامل الطقس.

- location:
  المنطقة الافتراضية. (city / suburbs)
  التأثير: نوع المنطقة الافتراضي.

- eta_type:
  سرعة التوصيل الافتراضية. (normal / fast / instant)

- driver_rating:
  تقييم السائق الافتراضي.
  التأثير: يستخدم لحساب الخصم/الزيادة الخاصة بجودة السائق إذا لم يتم تعيين سائق بعد.

- office_location:
  موقع المكتب. (lat, lng)
  التأثير: النقطة التي يبدأ منها حساب المسافة لأول بائع.

- default_customer_location:
  موقع العميل الافتراضي. (lat, lng)
  التأثير: يُستخدم إذا لم يحدد العميل موقعه على الخريطة.

- currency_symbol:
  رمز العملة.
  التأثير: نص (مثلاً "ج.م") يظهر بجانب كل الأسعار في واجهة المستخدم.

- placeholder_image:
  الصورة البديلة.
  التأثير: رابط صورة يظهر للمنتجات التي لا تملك صورة خاصة.

- deg_to_km_factor:
  معامل التحويل الجغرافي.
  التأثير: قيمة (تقريباً 111) لتحويل فرق الدرجات (Degrees) إلى كيلومترات.


2. العوامل المؤثرة (Factors)
----------------------------
هذه القيم تمثل "مضاعفات" (Multipliers) تُضرب في "تكلفة المسافة الأساسية" لزيادة السعر أو خفضه بناءً على الظروف المحيطة.
المعادلة: الزيادة = تكلفة المسافة × العامل
مثال: إذا كانت تكلفة المسافة 100 جنيه، والعامل 0.2، تكون الزيادة 20 جنيه.

أ. عوامل الطقس (weather_factors):
   تزيد التكلفة في الأجواء الصعبة.
   - normal: 0 (لا زيادة).
   - light_rain: أمطار خفيفة (زيادة بسيطة).
   - heavy_rain: أمطار غزيرة (زيادة أكبر).

ب. عوامل الموقع (location_factors):
   تزيد التكلفة للمناطق البعيدة أو الوعرة.
   - city: داخل المدينة (0).
   - suburbs: الضواحي.
   - outside_city: خارج النطاق العمراني.

ج. عوامل المركبة (vehicle_factors):
   تزيد التكلفة باختلاف وسيلة النقل المختارة.
   - bike: دراجة نارية (الأرخص).
   - car: سيارة.
   - truck: شاحنة (الأغلى).

د. عوامل السرعة (eta_factors):
   تزيد التكلفة كلما كانت السرعة مطلوبة أكثر.
   - normal: عادي.
   - fast: سريع.
   - instant: فوري (أعلى تكلفة).


3. إعدادات تقييم السائق (driver_rating_config)
----------------------------------------------
تتحكم في كيفية تأثير تقييم السائق على التكلفة (مكافأة الجودة).

- excellent_threshold: الحد الأدنى للتقييم الممتاز (مثلاً 4.5 من 5).
- excellent_discount: نسبة سالبة (مثلاً -0.05). تعني خصم 5% من تكلفة المسافة إذا كان السائق ممتازاً.
- good_threshold: حد التقييم الجيد.
- poor_factor: نسبة زيادة (غرامة جودة) إذا كان التقييم ضعيفاً (أقل من الجيد).
