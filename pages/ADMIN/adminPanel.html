<!--
@file pages/ADMIN/adminPanel.html
@description Admin Dashboard Panel for User Management. Displays a table of users and allows admin actions.
-->
<!-- Scripts -->
<script src="../../assets/libs/sweetalert2/sweetalert2.all.min.js"></script>
<!-- Styles -->
<link rel="stylesheet" href="/pages/ADMIN/adminPanel.css" />
<script src="/pages/ADMIN/adminPanel.js"></script>

<body>

  <div class="admin-panel-container">
    <h1 class="admin-panel-title">لوحة تحكم المسؤول - إدارة المستخدمين <span id="selected-user-display"
        style="font-size: 0.8em; color: var(--primary-color);"></span></h1>

    <!-- Broadcast Message Section -->
    <div id="admin-panel-broadcast-section" class="admin-panel-broadcast-container" style="display: none;">
      <h2 class="admin-panel-sub-title">إرسال رسالة لجميع المستخدمين</h2>
      <div class="broadcast-form">
        <textarea id="broadcast-message-input" placeholder="اكتب نص الرسالة هنا لإرسالها لجميع المستخدمين دفعة واحدة..."
          class="broadcast-textarea"></textarea>
        <button id="send-broadcast-btn" class="btn-delivery-status btn-broadcast-send"
          onclick="sendBroadcastNotification()">
          <i class="fas fa-bullhorn"></i> إرسال للجميع
        </button>
      </div>
    </div>

    <!-- Loader Indicator -->
    <div id="admin-panel-loader" class="admin-panel-loader-container">
      <div class="admin-panel-loader"></div>
      <p>جاري تحميل بيانات المستخدمين...</p>
    </div>

    <!-- Search Bar Section -->
    <div class="admin-panel-search-bar" id="admin-panel-search-bar" style="display: none;">
      <div class="search-controls">
        <select id="admin-search-type" class="search-select">
          <option value="all">كل الحقول</option>
          <option value="username">اسم المستخدم</option>
          <option value="user_key">المفتاح الفريد (Key)</option>
          <option value="phone">رقم الهاتف</option>
          <option value="Address">العنوان</option>
          <option value="Password">كلمة المرور</option>
          <option value="hasFCMToken">لديه توكن (نعم/لا)</option>
          <option value="tokenPlatform">المنصة</option>
          <option value="role">الدور (بائع/موزع)</option>
          <option value="isDelevred">حالة التسليم (نعم/لا)</option>
        </select>
        <div class="search-input-wrapper">
          <input type="text" id="admin-search-input" placeholder="اكتب للبحث..." class="search-input">
          <i class="fas fa-search search-icon"></i>
        </div>
      </div>
      <div class="search-stats">
        عدد المستخدمين: <span id="users-count-badge">0</span>
      </div>
    </div>

    <!-- Cards Container -->
    <div class="admin-panel-cards-container" id="admin-panel-cards-container" style="display: none;">
      <div class="admin-panel-users-grid" id="admin-panel-users-grid">
        <!-- Cards will be populated here via JavaScript -->
      </div>
    </div>
  </div>
</body>