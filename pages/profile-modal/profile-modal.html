<link id="profile-modal-stylesheet" rel="stylesheet" href="pages/profile-modal/profile-modal.css?v=1.2.5">

<div id="profile-modal-wrapper" class="profile-modal-wrapper">
    <div id="profile-header-container">
    </div>

    <div id="profile-content-container" class="profile-content">
        <h3 id="profile-title">تعديل بياناتك الشخصية</h3>

        <div id="profile-username-group" class="profile-form-group">
            <label id="profile-username-label" for="profile-username">الاسم</label>
            <div id="profile-username-input-wrapper" class="profile-input-wrapper">
                <i id="profile-username-icon" class="fas fa-user profile-input-icon"></i>
                <input id="profile-username" class="profile-form-control" placeholder="الاسم" />
            </div>
            <div id="profile-username-error" class="profile-error-message"></div>
        </div>

        <div id="profile-phone-group" class="profile-form-group">
            <label id="profile-phone-label" for="profile-phone">رقم الهاتف</label>
            <div id="profile-phone-input-wrapper" class="profile-input-wrapper">
                <i id="profile-phone-icon" class="fas fa-phone profile-input-icon"></i>
                <input id="profile-phone" class="profile-form-control" placeholder="رقم الهاتف" />
            </div>
            <div id="profile-phone-error" class="profile-error-message"></div>
        </div>

        <div id="profile-location-section" class="profile-form-group profile-map-section">
            <label id="profile-location-title">الموقع</label>
            <div id="profile-map-container" class="profile-map-container">
                <iframe id="profile-location-iframe" src="location/LOCATION.html?embedded=true&hideSave=true&v=initial"
                    class="profile-map-iframe"></iframe>
            </div>
            <input type="hidden" id="profile-coords" />
            <div id="profile-map-error" class="profile-error-message" style="display: none; margin-top: 5px;"></div>
        </div>

        <div id="profile-address-group" class="profile-form-group">
            <label id="profile-address-label" for="profile-address">تفاصيل العنوان (مثل: الدور، علامة مميزة)</label>
            <div id="profile-address-input-wrapper" class="profile-input-wrapper">
                <i id="profile-address-icon" class="fas fa-map-marker-alt profile-input-icon"></i>
                <input id="profile-address" class="profile-form-control"
                    placeholder="مثلاً: شارع السلام، الدور الثالث، بجوار مسجد القدس" />
            </div>
            <div id="profile-address-error" class="profile-error-message"></div>
        </div>

        <div id="profile-change-password-group" class="profile-form-group profile-form-group-checkbox">
            <input type="checkbox" id="profile-change-password-checkbox" />
            <label id="profile-change-password-label" for="profile-change-password-checkbox">تغيير كلمة المرور</label>
        </div>

        <div id="profile-password-fields-container" style="display: none;">
            <div id="profile-password-separator" class="profile-separator"></div>

            <div id="profile-new-password-group" class="profile-form-group profile-password-container">
                <label id="profile-new-password-label" for="profile-new-password">
                    كلمة المرور الجديدة
                </label>
                <div id="profile-new-password-wrapper" class="profile-input-wrapper">
                    <i id="profile-new-password-icon" class="fas fa-lock profile-input-icon"></i>
                    <input type="password" id="profile-new-password" class="profile-form-control"
                        placeholder="كلمة المرور الجديدة" />
                    <i id="profile-toggle-new-password" class="fas fa-eye profile-toggle-password-icon"></i>
                </div>
            </div>

            <div id="profile-confirm-password-group" class="profile-form-group profile-password-container">
                <label id="profile-confirm-password-label" for="profile-confirm-password">
                    تأكيد كلمة المرور
                </label>
                <div id="profile-confirm-password-wrapper" class="profile-input-wrapper">
                    <i id="profile-confirm-password-icon" class="fas fa-lock profile-input-icon"></i>
                    <input type="password" id="profile-confirm-password" class="profile-form-control"
                        placeholder="تأكيد كلمة المرور الجديدة" />
                    <i id="profile-toggle-confirm-password-icon" class="fas fa-eye profile-toggle-password-icon"></i>
                </div>
                <div id="profile-password-error" class="profile-error-message"></div>
            </div>
        </div>

        <div id="profile-footer" class="profile-modal-footer">
            <button id="profile-save-button" class="profile-button profile-save-btn">
                <i id="profile-save-icon" class="fas fa-save"></i>حفظ التغييرات
            </button>
            <button id="profile-delete-account-button" class="profile-button profile-delete-btn-small">
                <i id="profile-delete-icon" class="fas fa-trash-alt"></i>حذف الحساب
            </button>
        </div>
    </div>
</div>

<!-- Modular JavaScript Components -->
<script src="pages/profile-modal/js/profile-config.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-elements.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-helpers.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-init.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-validation.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-handlers.js?v=1.2.5"></script>
<script src="pages/profile-modal/js/profile-listeners.js?v=1.2.5"></script>

<!-- Main Entry Point -->
<script src="pages/profile-modal/profile-modal.js?v=1.2.5"></script>