<style>
/* ØªØ£ÙƒÙŠØ¯ ØªØºÙŠÙŠØ± Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ØµØ­ÙŠØ­ */
.add-product-modal.service-category-active {
  background: #f5f5f5 !important;
  background-color: #f5f5f5 !important;
  transition: background-color 0.3s ease !important;
}

/* Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø®Ù„ÙÙŠØ© Ù…Ù† Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø®Ø±Ù‰ */
#modal-main-content {
  background: transparent !important;
  background-color: transparent !important;
}
</style>



<!-- addProduct.html -->
<button class="close-button" id="add-product-modal-close-btn" aria-label="Ø¥ØºÙ„Ø§Ù‚"><i class="fas fa-times"></i></button>

<div id="modal-main-content">
  <div class="add-product-modal" role="dialog" aria-modal="true" aria-labelledby="addProductTitle">
    <h2 class="add-product-modal__title" id="addProductTitle"><i class="fas fa-cart-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>

    <form class="add-product-modal__form" id="add-product-form" novalidate>
      <!-- Ù…ÙˆØ¯ÙŠÙˆÙ„ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ± -->
      <section class="add-product-modal__form-group" aria-labelledby="imagesHeading">
        <label id="imagesHeading" class="add-product-modal__label"><i class="fas fa-images"></i> ØµÙˆØ± Ø§Ù„Ù…Ù†ØªØ¬</label>

        <div class="add-product-modal__image-uploader" id="image-uploader" tabindex="0" role="group"
          aria-label="Ù…Ù†Ø·Ù‚Ø© Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±">

          <div class="add-product-modal__uploader-actions">
            <!-- input Ù…Ø¹ capture Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© -->
            <input class="add-product-modal__hidden-file" id="file-input" type="file" accept="image/*" multiple
              aria-hidden="true">

            <!-- ØªÙ… ØªØºÙŠÙŠØ± btn-primary Ø¥Ù„Ù‰ btn-ghost Ù„ØªÙˆØ­ÙŠØ¯ Ø§Ù„ØªØµÙ…ÙŠÙ… -->
            <button type="button" class="btn btn-ghost btn-icon" id="pick-files-btn" title="Ø§Ø®ØªØ± ØµÙˆØ±Ù‹Ø§"><i
                class="fas fa-folder-open"></i></button>
            <button type="button" class="btn btn-ghost btn-icon" id="take-photo-btn" title="Ø§Ù„ØªÙ‚Ø§Ø· Ù…Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§"><i
                class="fas fa-camera"></i></button>
            <button type="button" class="btn btn-ghost btn-icon" id="clear-all-btn" title="Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„"><i
                class="fas fa-trash-alt"></i></button>
          </div>

          <div class="add-product-modal__hint">Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„. Ø§Ù„Ø¯Ø¹Ù…: jpg, png, webp. </div>

          <div class="add-product-modal__previews" id="previews" aria-live="polite" aria-atomic="false"></div>

        </div>

      </section>
      <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„ÙØ¦Ø§Øª (ÙÙŠ Ø³Ø·Ø± ÙˆØ§Ø­Ø¯) -->
      <div class="add-product-modal__form-row" id="table-product-category">
        <div class="add-product-modal__form-group" id="main-category-group">
          <label for="main-category" class="add-product-modal__label"><i class="fas fa-tags"></i> Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</label>
          <select id="main-category" name="main-category" class="add-product-modal__select" required>
            <option value="" selected disabled>-- Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© --</option>
          </select>
        </div>
        <div class="add-product-modal__form-group" id="sub-category-group" style="display: none;">
          <label for="sub-category" class="add-product-modal__label"><i class="fas fa-tag"></i> Ø§Ù„ÙØ¦Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©</label>
          <select id="sub-category" name="sub-category" class="add-product-modal__select" disabled>
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ© --</option>
          </select>
        </div>
      </div>

      <!-- Ø¬Ø¯ÙŠØ¯: Ø­Ù‚Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ -->
      <div class="add-product-modal__form-group">
        <label for="product-name" class="add-product-modal__label"><i class="fas fa-signature"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬</label>
        <input type="text" id="product-name" name="product-name" class="add-product-modal__input" maxlength="100"
          placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ù‹Ø§ ÙˆØ§Ø¶Ø­Ù‹Ø§ Ù„Ù„Ù…Ù†ØªØ¬..." required>
        <div id="product-name-char-counter" class="add-product-modal__char-counter">0 / 100</div>
      </div>

      <!-- Ø­Ù‚Ù„ ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ -->
      <div class="add-product-modal__form-group">
        <label for="product-description" class="add-product-modal__label"><i class="fas fa-file-alt"></i> Ø§Ù„ÙˆØµÙ</label>
        <textarea id="product-description" name="product-description" class="add-product-modal__textarea" rows="4"
          maxlength="400" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙÙ‹Ø§ Ø¬Ø°Ø§Ø¨Ù‹Ø§ ..."></textarea>
        <div id="description-char-counter" class="add-product-modal__char-counter">0 / 400</div>
      </div>

      <!-- Ø­Ù‚Ù„ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø¨Ø§Ø¦Ø¹ -->
      <div class="add-product-modal__form-group">
        <label for="seller-message" class="add-product-modal__label"><i class="fas fa-comment-dots"></i> Ø±Ø³Ø§Ù„Ø© Ù…Ù†
          Ø§Ù„Ø¨Ø§Ø¦Ø¹</label>
        <input type="text" id="seller-message" name="seller-message" class="add-product-modal__input" maxlength="100"
          placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø© ÙˆÙ…Ù…ÙŠØ²Ø© ØªØ¸Ù‡Ø± Ù„Ù„Ù…Ø´ØªØ±ÙŠ...">
        <div id="seller-message-char-counter" class="add-product-modal__char-counter">0 / 100</div>
      </div>

      <!-- Ø­Ù‚Ù„ Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
      <div class="add-product-modal__form-group">
        <label for="product-notes" class="add-product-modal__label"><i class="fas fa-sticky-note"></i> Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
        <input type="text" id="product-notes" name="product-notes" class="add-product-modal__input" maxlength="100"
          placeholder="Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ Ù„Ø§ ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø´ØªØ±ÙŠ Ù‡Ùˆ Ø®Ø§Øµ Ø¨Ùƒ Ø§Ù†Øª">
        <div id="notes-char-counter" class="add-product-modal__char-counter">0 / 100</div>
      </div>

      <!-- ØµÙ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø³Ø¹Ø± ÙˆØ§Ù„ÙƒÙ…ÙŠØ© -->
      <div class="add-product-modal__form-row" id="price-quantity-row">
        <!-- Ø­Ù‚Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© -->
        <div class="add-product-modal__form-group">
          <label for="product-quantity" class="add-product-modal__label"><i class="fas fa-boxes-stacked"></i> Ø§Ù„ÙƒÙ…ÙŠØ©
            Ø§Ù„Ù…ØªØ§Ø­Ø©</label>
          <input type="number" id="product-quantity" name="product-quantity" class="add-product-modal__input"
            placeholder="Ù…Ø«Ø§Ù„: 50" required min="1">
        </div>
        <!-- Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¹Ø± -->
        <div class="add-product-modal__form-group">
          <label for="product-price" class="add-product-modal__label"><i class="fas fa-dollar-sign"></i>Ø³Ø¹Ø±
            Ø§Ù„Ù‚Ø·Ø¹Ø©</label>
          <input type="text" inputmode="decimal" id="product-price" name="product-price"
            class="add-product-modal__input" placeholder="Ø¨Ø§Ù„Ø¬Ù†ÙŠÙ‡" required>
        </div>
        <!-- Ø¬Ø¯ÙŠØ¯: Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ… -->
        <div class="add-product-modal__form-group">
          <label for="original-price" class="add-product-modal__label"><i class="fas fa-tag"></i>Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…</label>
          <input type="text" inputmode="decimal" id="original-price" name="original-price"
            class="add-product-modal__input" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
        </div>
      </div>

      <!-- Ø¬Ø¯ÙŠØ¯: Ø­Ù‚ÙˆÙ„ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© (ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù„ÙØ¦Ø© 6) -->
      <div class="add-product-modal__form-group" id="service-type-options" style="display: none;">
        <label class="add-product-modal__label"><i class="fas fa-concierge-bell"></i> Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø©</label>
        <div class="add-product-modal__radio-group">
          <label class="add-product-modal__radio-label">
            <input type="radio" name="serviceType" value="1" class="add-product-modal__radio-input">
            ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ¹Ø¯
          </label>
          <label class="add-product-modal__radio-label">
            <input type="radio" name="serviceType" value="2" class="add-product-modal__radio-input">
            Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª
          </label>
        </div>
      </div>

      <!-- Ø²Ø± Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
      <div class="add-product-modal__submit-container">
        <button type="submit" class="btn btn-primary">Ø§Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¢Ù†</button>
      </div>
    </form>
  </div>
</div>

<!-- Ø±Ø³Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ -->
<div id="product-loading-message" style="display: none; text-align: center; padding: 20px;">
  <i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬...
</div>

<!-- ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª JavaScript -->
<script>
// Ø¯Ø§Ù„Ø© Ù„Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
function productHideLoadingMessage() {
  const loadingMessage = document.getElementById('product-loading-message');
  if (loadingMessage) {
    loadingMessage.style.display = 'none';
    console.log('%c[Product] Loading message hidden', 'color: green;');
  }
}

// Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
function productShowLoadingMessage() {
  const loadingMessage = document.getElementById('product-loading-message');
  if (loadingMessage) {
    loadingMessage.style.display = 'block';
    loadingMessage.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬...';
  }
}

// Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
window.addEventListener('load', function() {
  console.log('%c[Product] Page loaded, checking for modal content', 'color: green;');
  // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  setTimeout(productHideLoadingMessage, 100);
});

// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª
window.addEventListener('error', function(e) {
  console.error('%c[Product] Error loading module:', 'color: red;', e.error);
  const loadingMessage = document.getElementById('product-loading-message');
  if (loadingMessage) {
    loadingMessage.innerHTML = 
      '<i class="fas fa-exclamation-triangle"></i> Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª. ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©.';
  }
});

// Ù…Ø³ØªÙ…Ø¹ Ø¹Ø§Ù„Ù…ÙŠ Ù„Ø£ÙŠ Ø²Ø± Ø¥ØºÙ„Ø§Ù‚ ÙÙŠ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('click', function(e) {
  if (e.target.closest('#add-product-modal-close-btn') || 
      (e.target.closest('.close-button') && e.target.closest('.add-product-modal'))) {
    console.log('%c[ProductForm] ğŸ”’ Global close detection - resetting background', 'color: gray; font-weight: bold;');
    
    // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    setTimeout(() => {
      if (typeof productResetModalBackground === 'function') {
        productResetModalBackground();
      }
      // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚
      productHideLoadingMessage();
    }, 100);
  }
});

// Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© (8 Ø«ÙˆØ§Ù†ÙŠ)
setTimeout(() => {
  console.log('%c[Product] Safety timeout - hiding loading message', 'color: orange;');
  productHideLoadingMessage();
}, 8000);

// Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ Ø§ÙƒØªÙ…Ø§Ù„ ØªØ­Ù…ÙŠÙ„ DOM
document.addEventListener('DOMContentLoaded', function() {
  console.log('%c[Product] DOM Content Loaded - hiding loading message', 'color: green;');
  setTimeout(productHideLoadingMessage, 500);
});

console.log('%c[Product] Loading scripts initialized', 'color: blue;');
</script>