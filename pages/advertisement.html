<style>
  /* Main ad banner container */
  #advertisement-section {
    position: relative;
    height: 20vh;
    min-height: 150px;
    margin-bottom: 10px;
    overflow: hidden;
    background: linear-gradient(180deg, var(--bg-color-white) 0%, var(--border-color) 100%);
    width: auto;
    box-shadow: var(--shadow-interactive);
    margin-left: 15px;
    margin-right: 15px;
    border-radius: 12px;
  }

  /* Inner slides container */
  .ad-slider-track {
    position: relative;
    transform-style: preserve-3d;
    perspective: 1000px;
    width: 100%;
    height: 100%;
  }

  /* Each ad slide */
  .ad-slide {
    position: absolute;
    top: 5%;
    left: 20%;
    width: 60%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    border-radius: 12px;
    box-shadow: var(--shadow-interactive);
    opacity: 0.8;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1), filter 0.8s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
    filter: blur(3px) brightness(0.7) saturate(0.5);
    cursor: pointer;
  }

  /* Active (visible) slide */
  .ad-slide.active {
    transform: translateX(0) scale(1) !important;
    filter: blur(0) brightness(1) saturate(1);
    opacity: 1;
    z-index: 2;
  }

  /* Navigation dots container */
  .ad-slider-dots {
    position: absolute;
    background-color: transparent;
    color: transparent;
    bottom: 5px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 3;
  }

  /* Each navigation dot */
  .ad-slider-dot {
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background-color: var(--text-color-light);
    border: 1px solid rgba(0, 0, 0, 0.1);
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
  }

  /* Active dot */
  .ad-slider-dot.active {
    background-color: var(--bg-color-white);
    transform: scale(1.2);
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
  }

  /* No ads message */
  .no-ads-message {
    text-align: center;
    padding: 20px;
    color: var(--secondary-color);
    font-family: "Tajawal", sans-serif;
  }

  /* Navigation buttons (Prev/Next) styles */
  .ad-slider-nav {
    position: absolute;
    bottom: 2px;
    transform: translateY(-50%);
    z-index: 3;
    background-color: transparent;
    color: var(--bg-color-light);
    border: none;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    font-size: 18px;
    cursor: pointer;
    display: none;
    /* Hidden by default */
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s, transform 0.2s;
  }

  .ad-slider-nav.prev {
    left: 15px;
  }

  .ad-slider-nav.next {
    right: 15px;
  }

  /* Effect on button press */
  .ad-slider-nav:active {
    background-color: rgba(0, 0, 0, 0.5);
    transform: translateY(-50%) scale(0.95);
  }
</style>
<!-- âœ… Ø¬Ø¯ÙŠØ¯: Ø­Ø§ÙˆÙŠØ© Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
<div id="advertisement-section" class="ad-slider-container">
  <p class="no-ads-message" style="display: none">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹ ØªØ§ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø§Ù†ØªØ±Ù†Øª</p>
  <div class="ad-slider-track"></div>
  <div class="ad-slider-dots"></div>
  <button class="ad-slider-nav prev" aria-label="Previous Slide" style="display: none">
    <i class="fas fa-chevron-left"></i>
  </button>
  <button class="ad-slider-nav next" aria-label="Next Slide" style="display: none">
    <i class="fas fa-chevron-right"></i>
  </button>
</div>
<script>
  /**
* @file js/adverModule.js
* @description Ù…ÙˆØ¯ÙŠÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø´Ø±ÙŠØ· Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ØªØ­Ø±Ùƒ (Hero Slider).
*
* ÙŠÙ‚ÙˆÙ… Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„ Ø¨Ø¬Ù„Ø¨ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ù…Ù† Ø±Ø§Ø¨Ø· Ø¹Ø§Ù… ÙˆØ¹Ø±Ø¶Ù‡Ø§
* ÙÙŠ Ø­Ø§ÙˆÙŠØ© Ù…Ø­Ø¯Ø¯Ø© ÙƒØ´Ø±ÙŠØ· Ø¥Ø¹Ù„Ø§Ù†ÙŠ ÙŠÙ†ØªÙ‚Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.
*/


  /**
   * @description ÙŠØ¬Ù„Ø¨ Ø¢Ø®Ø± ØªØ§Ø±ÙŠØ® ØªØ­Ø¯ÙŠØ« Ù…Ø³Ø¬Ù„ ÙÙŠ Ø¬Ø¯ÙˆÙ„ `updates` Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª (API).
   * @returns {Promise<Object|null>} - ÙˆØ¹Ø¯ (Promise) ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒØ§Ø¦Ù† ÙŠØªØ¶Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ« (`{ datetime: '...' }`)ØŒ Ø£Ùˆ `null` ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„ÙØ´Ù„ Ø£Ùˆ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØªØ­Ø¯ÙŠØ«Ø§Øª.
   * @throws {Error} - Ø¥Ø°Ø§ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† API.
   */
  async function getLatestUpdate() {
    try {
      const data = await apiFetch('/api/updates', {
        specialHandlers: {
          404: () => ({ datetime: null }) // Not a fatal error
        }
      });
      return data;
    } catch (error) {
      console.error("%c[getLatestUpdate] failed:", "color: red;", error);
      return null;
    }
  }

  /**
   * @description ØªÙ‡ÙŠØ¦Ø© ÙˆØ¹Ø±Ø¶ Ù…ÙˆØ¯ÙŠÙˆÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.
   *   ÙŠÙ‚ÙˆÙ… Ø¨Ø¬Ù„Ø¨ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø£Ùˆ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø«Ù… ÙŠÙ‚ÙˆÙ… Ø¨Ø¨Ù†Ø§Ø¡ ÙˆØ¹Ø±Ø¶ Ø´Ø±ÙŠØ· ØªÙ…Ø±ÙŠØ± (Slider) Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.
   *   ÙŠØ¯Ø¹Ù… Ø¢Ù„ÙŠØ© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„ØªØ¬Ù†Ø¨ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙƒØ±Ø±.
   * @param {HTMLElement} container - Ø¹Ù†ØµØ± DOM Ø§Ù„Ø°ÙŠ Ø³ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.
   * @param {boolean} [forceRefresh=false] - Ø¥Ø°Ø§ ÙƒØ§Ù† `true`ØŒ Ø³ÙŠØªÙ… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø¤Ù‚ØªØ© ÙˆØ¬Ù„Ø¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¨Ø§Ø´Ø±Ø©.
   * @returns {Promise<void>} - ÙˆØ¹Ø¯ (Promise) Ù„Ø§ ÙŠÙØ±Ø¬Ø¹ Ù‚ÙŠÙ…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø§ÙƒØªÙ…Ø§Ù„.
   * @see getLatestUpdate
   * @see buildSlider
   */
  async function initAdverModule(container, forceRefresh = false) {
    if (!container) {
      console.error(`[AdverModule] Ù„Ù… ÙŠØªÙ… ØªÙˆÙÙŠØ± Ø¹Ù†ØµØ± Ø§Ù„Ø­Ø§ÙˆÙŠØ©.`);
      return;
    }

    console.log('%c[AdverModule] Initializing...', 'color: #20c997');

    // --- âœ… Ø¬Ø¯ÙŠØ¯: Ù…Ù†Ø·Ù‚ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª (Caching) ---
    const CACHE_KEY_IMAGES = 'adver_images_cache';
    const CACHE_KEY_TIMESTAMP = 'adver_timestamp_cache';
    const CACHE_KEY_LAST_CHECK = 'adver_last_check_timestamp'; // âœ… Ø¬Ø¯ÙŠØ¯: Ù„ØªØ®Ø²ÙŠÙ† ÙˆÙ‚Øª Ø¢Ø®Ø± ÙØ­Øµ
    // ğŸ”´ Ø¶Ø¨Ø· Ù…Ø¯Ø© Ø§Ù„ÙƒØ§Ø´: Ù‡Ù†Ø§ Ù†Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø¯Ø© Ø§Ù„ØªÙŠ ÙŠØ«Ù‚ ÙÙŠÙ‡Ø§ Ø§Ù„Ù…ØªØµÙØ­ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ø¯ÙˆÙ† Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ±.
    // ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ 1 Ø³Ø§Ø¹Ø© (1 * 60 * 60 * 1000) Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† 24 Ø³Ø§Ø¹Ø©ØŒ Ù„Ø²ÙŠØ§Ø¯Ø© Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª.
    const CHECK_INTERVAL = 1 * 60 * 60 * 1000; // 1 Ø³Ø§Ø¹Ø© Ø¨Ø§Ù„Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©

    const cachedTimestamp = localStorage.getItem(CACHE_KEY_TIMESTAMP);
    const cachedImages = JSON.parse(localStorage.getItem(CACHE_KEY_IMAGES));
    const lastCheckTimestamp = localStorage.getItem(CACHE_KEY_LAST_CHECK);

    // âœ… Ø§Ù„ØªØ­Ù‚Ù‚: Ù‡Ù„ Ù…Ø±Øª Ø³Ø§Ø¹Ø© Ù…Ù†Ø° Ø¢Ø®Ø± ÙØ­ØµØŸ ÙˆÙ‡Ù„ Ù„Ø¯ÙŠÙ†Ø§ ØµÙˆØ± Ù…Ø®Ø²Ù†Ø©ØŸ
    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù†Ø¹Ù… (Ù„Ù… ØªÙ…Ø± Ø³Ø§Ø¹Ø© ÙˆÙ„Ø¯ÙŠÙ†Ø§ ØµÙˆØ±)ØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø®Ø²Ù†Ø© ÙÙˆØ±Ø§Ù‹ ÙˆÙ†ÙˆÙ‚Ù Ø§Ù„Ø§ØªØµØ§Ù„.
    if (!forceRefresh && lastCheckTimestamp && (Date.now() - lastCheckTimestamp < CHECK_INTERVAL) && cachedImages && cachedImages.length > 0) {
      console.log('%c[AdverModule] Loading ads from cache (within 1h interval).', 'color: green; font-weight: bold;');
      buildSlider(container, cachedImages);
      return; // ØªÙˆÙ‚Ù Ù‡Ù†Ø§ØŒ Ù„Ø§ Ø¯Ø§Ø¹ÙŠ Ù„Ø¥Ø²Ø¹Ø§Ø¬ Ø§Ù„Ø³ÙŠØ±ÙØ±
    }

    // Ø¥Ø°Ø§ ÙˆØµÙ„Ù†Ø§ Ù‡Ù†Ø§ØŒ ÙÙ‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ø§Ù„ÙƒØ§Ø´ Ù‚Ø¯ÙŠÙ… (> 1 Ø³Ø§Ø¹Ø©) Ø£Ùˆ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ØŒ Ø£Ùˆ ØªÙ… Ø·Ù„Ø¨ ØªØ­Ø¯ÙŠØ« Ø¥Ø¬Ø¨Ø§Ø±ÙŠ.
    // Ø³Ù†Ù‚ÙˆÙ… Ø§Ù„Ø¢Ù† Ø¨Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ±: "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ ØªØ­Ø¯ÙŠØ«Ø§ØªØŸ"
    console.log('%c[AdverModule] Checking for updates from server (interval elapsed or no cache).', 'color: #17a2b8;');
    const latestUpdate = await getLatestUpdate();
    const serverTimestamp = latestUpdate ? latestUpdate.datetime : null;

    console.log(`[AdverModule] Server Timestamp: ${serverTimestamp}`);
    console.log(`[AdverModule] Cached Timestamp: ${cachedTimestamp}`);

    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ù…ØªØ·Ø§Ø¨Ù‚Ø© ÙˆÙ‡Ù†Ø§Ùƒ ØµÙˆØ± Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© (Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…)
    if (!forceRefresh && serverTimestamp && serverTimestamp === cachedTimestamp && cachedImages && cachedImages.length > 0) {
      console.log('%c[AdverModule] Loading ads from cache.', 'color: green; font-weight: bold;');
      localStorage.setItem(CACHE_KEY_LAST_CHECK, Date.now()); // âœ… Ø¬Ø¯ÙŠØ¯: ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø¢Ø®Ø± ÙØ­Øµ
      buildSlider(container, cachedImages);
      return; // ØªÙˆÙ‚Ù Ù‡Ù†Ø§ØŒ Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØµÙˆØ± Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ©
    }

    // --- Ø¥Ø°Ø§ Ù„Ù… ØªØªØ·Ø§Ø¨Ù‚ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø£Ùˆ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø³Ø®Ø© Ù…Ø­ÙÙˆØ¸Ø©ØŒ Ù‚Ù… Ø¨Ø§Ù„Ø¬Ù„Ø¨ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ© ---
    console.log('%c[AdverModule] Cache is outdated or empty. Fetching from network...', 'color: orange; font-weight: bold;');

    const R2_PUBLIC_URL = 'https://pub-e828389e2f1e484c89d8fb652c540c12.r2.dev';
    const fetchedImages = [];

    // âœ… Ø¬Ø¯ÙŠØ¯: Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø§Ù†ÙŠÙØ³Øª (advertisements.json)
    // Ù†Ø¹ØªÙ…Ø¯ Ø§Ù„Ø¢Ù† ÙƒÙ„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù. Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ®Ù…ÙŠÙ†.
    try {
      const manifestRes = await fetch(`${R2_PUBLIC_URL}/advertisements.json?t=${Date.now()}`);
      if (manifestRes.ok) {
        const manifestData = await manifestRes.json();
        if (Array.isArray(manifestData) && manifestData.length > 0) {
          console.log('%c[AdverModule] Manifest loaded.', 'color: green;', manifestData);
          manifestData.forEach(img => fetchedImages.push(`${R2_PUBLIC_URL}/${img}`));
        } else {
          console.warn("[AdverModule] Manifest is empty.");
        }
      } else {
        console.error(`[AdverModule] Failed to load manifest: ${manifestRes.status}`);
      }
    } catch (e) {
      console.error("[AdverModule] Manifest check failed:", e);
    }

    // âœ… Ø¬Ø¯ÙŠØ¯: Ø­ÙØ¸ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙÙŠ localStorage
    if (fetchedImages.length > 0) {
      console.log(`[AdverModule] Fetched ${fetchedImages.length} images. Caching results.`);
      localStorage.setItem(CACHE_KEY_IMAGES, JSON.stringify(fetchedImages));
      if (serverTimestamp) {
        localStorage.setItem(CACHE_KEY_TIMESTAMP, serverTimestamp);
      }
      localStorage.setItem(CACHE_KEY_LAST_CHECK, Date.now());

      buildSlider(container, fetchedImages);
    } else {
      // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ ØµÙˆØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø§Ù†ÙŠÙØ³Øª
      console.warn('[AdverModule] No ads found in manifest.');
      const noAdsMsg = container.querySelector('.no-ads-message');
      if (noAdsMsg) noAdsMsg.style.display = 'block';

      // ØªÙ†Ø¸ÙŠÙ Ø§Ù„ÙƒØ§Ø´ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù„ØªØ¬Ù†Ø¨ Ø¹Ø±Ø¶ ØµÙˆØ± ØºÙŠØ± Ù…Ø¹ØªÙ…Ø¯Ø©
      localStorage.removeItem(CACHE_KEY_IMAGES);
    }
  }

  /**
   * @description ÙŠØ¨Ù†ÙŠ ÙˆÙŠØ¹Ø±Ø¶ Ø´Ø±ÙŠØ· ØªÙ…Ø±ÙŠØ± (Slider) Ù„Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø¯Ø§Ø®Ù„ Ø­Ø§ÙˆÙŠØ© Ù…Ø­Ø¯Ø¯Ø©.
   *   ÙŠÙ†Ø´Ø¦ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙˆØ§Ù„Ù†Ù‚Ø§Ø· ÙˆØ£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ØŒ ÙˆÙŠØ¯ÙŠØ± Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙˆØ§Ù„ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ©.
   * @function buildSlider
   * @param {string[]} adImages - Ù…ØµÙÙˆÙØ© Ù…Ù† Ø¹Ù†Ø§ÙˆÙŠÙ† URL Ù„ØµÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª.
   * @returns {void}
   * @see goToSlide
   * @see startAutoPlay
   * @see pauseAutoPlay
   * @see resetAutoPlay
   */
  function buildSlider(container, adImages) {
    /** @param {HTMLElement} container - Ø¹Ù†ØµØ± DOM Ø§Ù„Ø°ÙŠ Ø³ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±. */
    // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ ØµÙˆØ±ØŒ Ø§Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø©
    if (adImages.length === 0) {
      container.innerHTML = '<p class="no-ads-message">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹ ØªØ§ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø§Ù†ØªØ±Ù†Øª</p>';
      container.style.height = 'auto'; // Ø¶Ø¨Ø· Ø§Ù„Ø§Ø±ØªÙØ§Ø¹
      return;
    }

    // Ø¨Ù†Ø§Ø¡ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠ
    container.innerHTML = `
    <div class="ad-slider-track"></div>
    <div class="ad-slider-dots"></div>
    <!-- âœ… Ø¬Ø¯ÙŠØ¯: Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <button class="ad-slider-nav prev" aria-label="Previous Slide"><i class="fas fa-chevron-left"></i></button>
    <button class="ad-slider-nav next" aria-label="Next Slide"><i class="fas fa-chevron-right"></i></button>
  `;

    const track = container.querySelector('.ad-slider-track');
    const dotsContainer = container.querySelector('.ad-slider-dots');
    const slides = [];
    const dots = [];
    let currentIndex = 0;
    let autoPlayInterval = null; // âœ… Ø¬Ø¯ÙŠØ¯: Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø¤Ù‚Øª Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

    const prevButton = container.querySelector('.ad-slider-nav.prev');
    const nextButton = container.querySelector('.ad-slider-nav.next');

    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙˆØ§Ù„Ù†Ù‚Ø§Ø·
    adImages.forEach((imageUrl, index) => {
      const slide = document.createElement('div');
      slide.className = 'ad-slide';
      slide.style.backgroundImage = `url(${imageUrl})`;
      track.appendChild(slide);

      // âœ… Ø¬Ø¯ÙŠØ¯: Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø±ÙƒØ© Ù…Ø¤Ù‚ØªÙ‹Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø§Ù„Ù…Ø³ØªÙ…Ø±
      slide.addEventListener('mousedown', pauseAutoPlay);
      slide.addEventListener('mouseup', startAutoPlay);
      slide.addEventListener('touchstart', pauseAutoPlay, { passive: true });
      slide.addEventListener('touchend', startAutoPlay);
      slides.push(slide);

      const dot = document.createElement('div');
      dot.className = 'ad-slider-dot';
      dot.addEventListener('click', () => goToSlide(index));
      dotsContainer.appendChild(dot);
      dots.push(dot);
    });

    /**
     * @description ØªÙ†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø´Ø±ÙŠØ­Ø© Ù…Ø­Ø¯Ø¯Ø© ÙˆØªØ·Ø¨Ù‚ ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØ§Ø±ÙˆØ³ÙŠÙ„ Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠ.
     *   ØªÙ‚ÙˆÙ… Ø¨Ø­Ø³Ø§Ø¨ ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª (transform) Ù„ÙƒÙ„ Ø´Ø±ÙŠØ­Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ù‡Ø§ Ø§Ù„Ø­Ø§Ù„ÙŠ.
     * @param {number} index - ÙÙ‡Ø±Ø³ Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©.
     * @inner
     * @returns {void}
     */
    function goToSlide(index) {
      const newIndex = (index + slides.length) % slides.length;
      currentIndex = newIndex;

      slides.forEach((slide, i) => {
        // âœ… ØªØ¹Ø¯ÙŠÙ„: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø¨Ø·Ø±ÙŠÙ‚Ø© ØªØ£Ø®Ø° "Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø£Ù‚ØµØ±" ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø±
        // Ù‡Ø°Ø§ ÙŠØ¶Ù…Ù† Ø£Ù† Ø§Ù„Ø­Ø±ÙƒØ© Ø¯Ø§Ø¦Ø±ÙŠØ© ÙˆÙ…ØªÙ†Ø§Ø¸Ø±Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§.
        const totalSlides = slides.length;
        const directOffset = i - currentIndex;
        const wrapOffset = directOffset > 0 ? directOffset - totalSlides : directOffset + totalSlides;
        const offset = Math.abs(directOffset) < Math.abs(wrapOffset) ? directOffset : wrapOffset;

        const isActive = offset === 0;

        // Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø£ÙÙ‚ÙŠ ÙˆØ§Ù„ØªÙƒØ¨ÙŠØ±
        // Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ØªÙƒÙˆÙ† Ø£ØµØºØ± ÙˆÙ…Ø²Ø§Ø­Ø©
        const translateX = offset * 40; // 40% Ù…Ù† Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ­Ø©
        const scale = isActive ? 1 : 0.7;
        // âœ… Ø¬Ø¯ÙŠØ¯: Ø¥Ø¶Ø§ÙØ© Ø¥Ø²Ø§Ø­Ø© Ø¨Ø³ÙŠØ·Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙˆØ± Z Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø¹Ù…Ù‚ ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªØ¯Ø§Ø®Ù„
        const translateZ = -Math.abs(offset) * 50;

        slide.style.transform = `translateX(${translateX}%) translateZ(${translateZ}px) scale(${scale})`;
        slide.classList.toggle('active', isActive);

        // Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø´Ø±ÙŠØ­Ø© Ø¬Ø§Ù†Ø¨ÙŠØ©ØŒ ØªÙ†ØªÙ‚Ù„ Ù„ØªØµØ¨Ø­ Ù‡ÙŠ Ø§Ù„Ù†Ø´Ø·Ø©
        slide.onclick = () => goToSlide(i);
      });

      dots.forEach((dot, i) => dot.classList.toggle('active', i === currentIndex));
      if (slides.length > 1) {
        resetAutoPlay();
      }
    }

    /**
     * @description ØªØ¨Ø¯Ø£ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ±ØŒ Ø­ÙŠØ« ØªÙ†ØªÙ‚Ù„ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙƒÙ„ 4 Ø«ÙˆØ§Ù†Ù.
     * @returns {void}
     * @inner
     */
    function startAutoPlay() {
      if (autoPlayInterval) clearInterval(autoPlayInterval); // Ù…Ø³Ø­ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…
      // ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ø±ÙŠØ­Ø© ÙƒÙ„ 4 Ø«ÙˆØ§Ù†Ù
      autoPlayInterval = setInterval(() => goToSlide(currentIndex + 1), 4000);
    }

    /**
     * @description ØªÙˆÙ‚Ù Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ù…Ø³Ø­ Ø§Ù„Ù…Ø¤Ù‚Øª.
     * @returns {void}
     * @inner
     */
    function pauseAutoPlay() {
      clearInterval(autoPlayInterval);
    }

    /**
     * @description ØªØ¹ÙŠØ¯ Ø¶Ø¨Ø· Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥ÙŠÙ‚Ø§ÙÙ‡Ø§ Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„Ù‡Ø§.
     * @returns {void}
     * @see pauseAutoPlay
     * @see startAutoPlay
     * @inner
     */
    function resetAutoPlay() {
      pauseAutoPlay();
      startAutoPlay();
    }

    // Ø¨Ø¯Ø¡ Ø§Ù„Ø­Ø±ÙƒØ©
    if (slides.length > 0) {
      goToSlide(0); // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙŠØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰

      // âœ… Ø¬Ø¯ÙŠØ¯: Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ ÙˆØ§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø­Ø±ÙƒØ©
      if (slides.length > 1) {
        startAutoPlay();
        prevButton.style.display = 'flex';
        nextButton.style.display = 'flex';

        prevButton.addEventListener('click', () => {
          goToSlide(currentIndex - 1);
        });

        nextButton.addEventListener('click', () => {
          goToSlide(currentIndex + 1);
        });
      } else {
        prevButton.style.display = 'none';
        nextButton.style.display = 'none';
        // âœ… Ø¬Ø¯ÙŠØ¯: Ø¥Ø®ÙØ§Ø¡ Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù†Ù‚Ø§Ø· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
        dotsContainer.style.display = 'none';
      }
    }



  }
</script>