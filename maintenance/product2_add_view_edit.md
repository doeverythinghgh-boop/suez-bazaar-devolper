

# ุชูุซูู ูุญุฏุฉ ุฅุถุงูุฉ ุงูุฎุฏูุฉ (ProductAdd2 - Add2)

ุชุนุชุจุฑ ูุญุฏุฉ `productAdd2` ุงููุณุคููุฉ ุนู ูุงุฌูุฉ ุฅุถุงูุฉ ุงูุฎุฏูุงุช (Add2). ุชู ุชุตููููุง ูุชูุฏูู ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ูุน ุฏุนู ูุชุทูุฑ ูููุณุงุฆุท ุงููุชุนุฏุฏุฉ.

## ๐งฑ ุงูุจููุฉ ุงููููููุฉ (HTML)
ุงููุณุงุฑ: `pages/productAdd2/productAdd2.html`

ุงูุจููุฉ ุชุนุชูุฏ ุนูู ุนูุงุตุฑ (Modal) ุชุถู ูููุฐุฌุงู (`form`) ูุญุชูู ุนูู ุงูุฃูุณุงู ุงูุชุงููุฉ:
- **ููุทูุฉ ุฑูุน ุงูุตูุฑ**: ุชุฏูุน ุงููุณุชุฎุฏู ูุงุฎุชูุงุฑ ูููุงุช ุฃู ุงุณุชุฎุฏุงู ุงููุงููุฑุง.
- **ุญููู ุงูุจูุงูุงุช**: ุชุดูู (ุงุณู ุงูุฎุฏูุฉุ ูุตู ุงูุฎุฏูุฉุ ุฑุณุงูุฉ ููุฏู ุงูุฎุฏูุฉุ ุงูููุงุญุธุงุช ุงูุฎุงุตุฉ).
- **ุงูุชุฐููู**: ูุญุชูู ุนูู ุฒุฑ ุงูุญูุธ ูุงููุดุฑ.
- **ูุนุงุก ุงููุงููุฑุง**: ุนูุตุฑ ูุฎูู (`add2_camera_modal_container`) ูุธูุฑ ุนูุฏ ุชูุนูู ููุฒุฉ ุงูุชุตููุฑ ุงูููุชุจู.

## ๐จ ุงูุชูุณูู ุงูุจุตุฑู (CSS)
ุงููุณุงุฑ: `pages/productAdd2/productAdd2.css`

- ูุชููุฒ ุงูุชุตููู ุจุงุณุชุฎุฏุงู ุชุฏุฑุฌุงุช ุงูุฃููุงู ุงูุตูุจุฉ (Flat Colors) ูุงูููู ุงูุฃุฒุฑู (`#3498db`) ูุนูุตุฑ ูููุฉ ุฃุณุงุณู.
- ุงุณุชุฎุฏุงู ูุธุงู ุงูุดุจูุฉ (`Grid`) ูุนุฑุถ ูุนุงููุงุช ุงูุตูุฑ ุจุดูู ูุชุฌุงูุจ.
- ุฏุนู ูุงูู ูุญุงูุฉ ุงูู `active` ุจุฏูุงู ูู ุงูู `hover` ูุถูุงู ุชูุงูููุฉ ุงูููุณ.
- ุชุตููู ูุชุฌุงูุจ (Responsive) ูุบูุฑ ุญุฌู ุงูุฎุทูุท ูุงูุญุดู ุจูุงุกู ุนูู ุนุฑุถ ุงูุดุงุดุฉ.

## ๐ง ุงูููุทู ุงูุจุฑูุฌู (JavaScript)

### 1. ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (`add2_config.js`)
- ุชุญุฏูุซ ููู ุงูุซูุงุจุช ูุถุบุท ุงูุตูุฑ ูุงูุญุฏ ุงูุฃูุตู ูููููุงุช (6 ุตูุฑ).
- ุฅุฏุงุฑุฉ ูุตูููุฉ `add2_images` ุงูุชู ุชุฎุฒู ุญุงูุงุช ุงูุตูุฑ (pending, compressing, ready, error).

### 2. ุงูุฃุฏูุงุช ูุงููุธุงุฆู ุงูุฃุณุงุณูุฉ (`add2_utils.js`)
- **`add2_showError(element, message)`**: ุญูู ุฑุณุงุฆู ุงูุฎุทุฃ ุฏููุงููููุงู ุชุญุช ุงูุญููู.
- **`add2_clearError(element)`**: ุชูุธูู ุฑุณุงุฆู ุงูุฎุทุฃ.
- **`add2_formatBytes(bytes)`**: ุชุญููู ุฃุญุฌุงู ุงููููุงุช ููุตูุต ููุฑูุกุฉ.
- **`add2_genId()`**: ุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ูุนูุงุตุฑ ุงููุนุงููุฉ.

### 3. ูุนุงูุฌุฉ ุงูุตูุฑ ุงููุชุทูุฑุฉ (`add2_image.js`)
- **`add2_compressImage(file)`**: ุชุณุชุฎุฏู `createImageBitmap` ูุชุญุฌูู ุงูุตูุฑ ุจุฐูุงุก ูุน ูุฑุงุนุงุฉ ููุงุฑุฏ ุฐุงูุฑุฉ ุงูููุงุชู. ุงูุชุญููู ูุชู ูู `webp` ุฃู `jpeg`.
- **`add2_handleNewFiles(fileList)`**: ุงูููุณู ุงูุฑุฆูุณู ุงูุฐู ูุณุชูุจู ุงููููุงุชุ ูุชุญูู ูู ุงููุณุงุญุฉ ุงููุชููุฑุฉุ ููุทูู ุนูููุฉ ุงูุถุบุท ุงููุชูุงุฒู.

### 4. ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุงูุชุตููุฑ ุงููุจุงุดุฑ (`add2_ui.js`)
- **`add2_createPreviewItem(state)`**: ุจูุงุก ุนูุงุตุฑ ุงููุนุงููุฉ ูุน ุฃุฒุฑุงุฑ ุงูุญุฐู ูุนุฑุถ ุงูุชูุฏู.
- **`add2_removeImage(id)`**: ุญุฐู ุงูุตูุฑ ูุน ุชุฃููุฏ ุนุจุฑ `Swal`.
- **`add2_openDesktopCamera()`**: ุชุดุบูู ุจุซ ุงูููุฏูู ุงููุจุงุดุฑ ูู (Modal) ูุงูุชูุงุท ุงูุตูุฑ ุนุจุฑ `Canvas`.
- **ูุณุชูุนู ุงูุฃุญุฏุงุซ**: ุฅุฏุงุฑุฉ ุนุฏุงุฏุงุช ุงูุญุฑูู ุงููุญุธูุฉ ูููุชุฑุฉ ุงููุฏุฎูุงุช ุงูุฑูููุฉ.

### 5. ุงูุชุญูู ูุงูุญูุธ ุงูููุงุฆู (`add2_submit.js`)
- **`add2_setSubmitLoading(isLoading)`**: ุชุบููุฑ ุญุงูุฉ ุฒุฑ ุงูุฅุฑุณุงู ุจุตุฑูุงู ูููุน ุงูููุฑ ุงููุฒุฏูุฌ.
- **ูุนุงูุฌ ุงูู `submit`**:
    - ุชูููุฐ 6 ุงุฎุชุจุงุฑุงุช ููุทููุฉ (ูุฌูุฏ ุตูุฑุ ุงูุงุณูุ ุทูู ุงููุตูุ ุฅูุฎ).
    - ุฑูุน ุงูุตูุฑ ุงููุถุบูุทุฉ ูู Cloudflare R2 ูุงูุญุตูู ุนูู ุงูุฑูุงุจุท ุงูููุงุฆูุฉ.
    - ุชุฌููุน ูุงุฆู ุงูุจูุงูุงุช ูุฅุฑุณุงูู ูู `addProduct`.
    - ุฅุฎุทุงุฑ ุงูุฅุฏุงุฑุฉ ูุงูููุงู ุจุนูููุฉ ุชูุธูู (Reset) ุดุงููุฉ ูููููุฐุฌ ุจุนุฏ ุงููุฌุงุญ.

## ๐ก ููุงุญุธุงุช ุจุฑูุฌูุฉ ุนุงูุฉ
- ุชู ุงูุงูุชุฒุงู ุจุจุงุฏุฆุฉ `add2_` ูุฌููุน ุงููุชุบูุฑุงุช ูุงูุฏูุงู ูุนูุงุตุฑ ุงูู ID ูุถูุงู ุนุฒู ุงููุทุงู ุงูุนุงู.
- ุฌููุน ุงูุนูููุงุช ุงูุซูููุฉ (ุงูุชุญููู ูุงูุฑูุน) ุชุชู ูุน ุฅุธูุงุฑ ุญุงูุงุช ุชุญููู (Loading) ูุงุถุญุฉ ูููุณุชุฎุฏู.


# ุชูุซูู ูุญุฏุฉ ุชุนุฏูู ุงูุฎุฏูุฉ (ProductEdit2 - Edit2)

ุชุนุชุจุฑ ูุญุฏุฉ `productEdit2` ุงููุณุฎุฉ ุงููุนูุงุฑูุฉ ุงููุฎุตุตุฉ ูุชุนุฏูู ุงูุฎุฏูุงุช ุงูููุฌูุฏุฉ ูุณุจูุงู. ุชู ุชูุณูููุง ุฅูู 6 ูููุงุช ุจุฑูุฌูุฉ ูุถูุงู ุณูููุฉ ุงูุชูุณุน.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productEdit2/`

- **`productEdit2.html`**: ุงููููู ุงูุฐู ูุถู ุญููู ุงูุฎุฏูุฉ (ุจุฏูู ุณุนุฑ ุฃู ูููุฉ).
- **`productEdit2.css`**: ุงูุชูุณููุงุช ุงูุจุตุฑูุฉ ูููููุฐุฌ ููุนุงููุงุช ุงูุตูุฑ.

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
1. **`edit2_config.js`**:
   - ุฅุนุฏุงุฏุงุช ุงูุถุบุท (1600px).
   - ุงูุญุงูุฉ ุงููุดุชุฑูุฉ ูู `window.productModule` ูุถูุงู ุงูุชูุงูููุฉ ูุน ุงูุฃูุธูุฉ ุงููุฏููุฉ.

2. **`edit2_utils.js`**:
   - ุฅุฏุงุฑุฉ ุฑุณุงุฆู ุงูุฎุทุฃ (`EDIT2_showError`).
   - ุชูููุฏ ุงููุนุฑูุงุช ุงููุฑูุฏุฉ ูุชูุณูู ุฃุญุฌุงู ุงููููุงุช.

3. **`edit2_image.js`**:
   - `EDIT2_loadExistingImages`: ุฌูุจ ุงูุตูุฑ ุงูุญุงููุฉ ูู ุงูุณุญุงุจุฉ ุนูุฏ ุงูุจุฏุก.
   - ููุทู ุถุบุท ุงูุตูุฑ ุงูุฐูู ููุฎุฏูุงุช.

4. **`edit2_ui.js`**:
   - ุฅุฏุงุฑุฉ ุงูุชูุงุนู ูุน ุญููู ุงููุต (ุงูุงุณูุ ุงููุตูุ ุงูุฑุณุงูุฉ) ูุชุญุฏูุซ ุงูุนุฏุงุฏุงุช.
   - ููุฒุฉ ุงููุงููุฑุง ูุณุทุญ ุงูููุชุจ ูุงูููุจุงูู.
   - ุฅูุดุงุก ูุญุฐู ุนูุงุตุฑ ุงููุนุงููุฉ.

5. **`edit2_submit.js`**:
   - ุงูุชุญูู ูู ุงูุชุนุฏููุงุช (Change Detection).
   - ุฑูุน ุงูุตูุฑ ุงูุฌุฏูุฏุฉ ูุญุฐู ุงููุฏููุฉ ูู R2.
   - ุชุญุฏูุซ ุงูุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `serviceType: 2`.

6. **`edit2_init.js`**:
   - ุฏุงูุฉ ุงูุชููุฆุฉ `initializeEditProductForm` ุงูุชู ุชููุฃ ุงูุจูุงูุงุช ููุฑ ูุชุญ ุงูุตูุญุฉ.

## ๐ก ููุงุญุธุงุช ูููุฉ
- ุงููุญุฏุฉ ุชูุฑุถ ููุน ุงูุฎุฏูุฉ (2) ุฏุงุฆูุงู ูู ุนูููุฉ ุงูุชุญุฏูุซ.
- ูุชู ุชุตููุฑ ุญุงูุฉ ุงูููุงููุฉ (`is_approved: 0`) ุชููุงุฆูุงู ุนูุฏ ุฃู ุชุนุฏูู ูุฅุนุงุฏุฉ ูุญุตูุง ูู ูุจู ุงูุฅุฏุงุฑุฉ.
- ุงูููุฑุฉ ุงูุจุฑูุฌูุฉ: ุฌููุน ุงูุฏูุงู ุชุณุชุฎุฏู ุงูุจุงุฏุฆุฉ `EDIT2_` ูุถูุงู ุงุณุชูุฑุงุฑ ุงูุจูุฆุฉ ุงูุจุฑูุฌูุฉ ูุนุฏู ุงูุชุฏุงุฎู ูุน ูุญุฏุงุช ุงูุฅุถุงูุฉ.

---

# ุชูุซูู ูุญุฏุฉ ุนุฑุถ ุงูุฎุฏูุฉ (ProductView2)

ุงููุณุคููุฉ ุนู ุนุฑุถ ุงูุฎุฏูุงุช ุงููุชุทูุฑุฉ ุจุงุณุชุฎุฏุงู ุณูุงูุฏุฑ ุซูุงุซู ุงูุฃุจุนุงุฏ ูุน ูุธุงู ุทูุจ ุชุตููุฑ ุฎุงุต.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productView2/`

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
1. **`view2_config.js`**: ุงูุซูุงุจุช ุงูุฎุงุตุฉ ุจุงูุณูุงูุฏุฑุ ุถุบุท ุงูุตูุฑุ ููุตูููุฉ ุงูุตูุฑ ุงููุฑููุฉ ููุทูุจ.
2. **`view2_utils.js`**: `pv2_compressImage` ูุถุบุธ ูุฑูุน ุตูุฑ "ุทูุจ ุงูุชุตููุฑ" ุจุฌูุฏุฉ ุนุงููุฉ ูุน ุชุญููููุง ูู WebP.
3. **`view2_slider.js`**: ููุทู ูุญุฑู ุงูุณูุงูุฏุฑ ุซูุงุซู ุงูุฃุจุนุงุฏ ุจุงููุงููุ ุจูุง ูู ุฐูู ุญุณุงุจ ุงููุตูููุงุช ููุญุฑูุฉ ูุงูุชุดุบูู ุงูุชููุงุฆู.
4. **`view2_ui.js`**: ุฅุฏุงุฑุฉ ูุนุงููุงุช ุงูุตูุฑ ุงููุฑููุฉ ูุงูุชุญูู ูู ุนูุงุตุฑ ูุงุฌูุฉ ุทูุจ ุงูุฎุฏูุฉ.
5. **`view2_submit.js`**: `pv2_sendOrder` ุงููุณุคูู ุนู ุงูุฑูุน ูู R2ุ ุฅูุดุงุก ุงูุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช.
6. **`view2_init.js`**: ุฏุงูุฉ ุงูุชููุฆุฉ `pv2_viewDetails` ูููุทู ุฑุจุท ุงูุฃุญุฏุงุซ ุงูุฃููู ูููููุฐุฌ.

## ๐ก ููุงุญุธุงุช ูููุฉ
- ุชุนุชูุฏ ุงููุญุฏุงุช ุนูู `ProductStateManager` ูุถูุงู ุชุฏูู ุงูุจูุงูุงุช ุจุดูู ุขูู ุจูู ุงูุตูุญุงุช.
- ูุชู ุชุทุจูู ููุทู ุญูุงูุฉ ุงูุฃุฏูุงุฑ (Roles Check) ูููุน ุชุณุฑูุจ ุจูุงูุงุช ุงูุชูููุฉ ุฃู ูููุฉ ุงูุจุงุฆุน ูุบูุฑ ุงููุตุฑุญ ููู.
