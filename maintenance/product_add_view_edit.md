
# ุชูุซูู ูุญุฏุฉ ุฅุถุงูุฉ ุงูููุชุฌ (ProductAdd - Add1)

ุชุนุชุจุฑ ูุญุฏุฉ `productAdd` ุงููุณุคููุฉ ุนู ูุงุฌุฉ ุฅุถุงูุฉ ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ูููุธุงู (Add1). ุชุนุชูุฏ ุนูู ููุณ ุงูููุณูุฉ ุงููุนูุงุฑูุฉ ูุณูููุฉ ุงูุชุทููุฑ.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productAdd/`

- **`productAdd.css`**: ุงูุชุตูููุงุช ุงูุฎุงุตุฉ ุจูุงุฌูุฉ ุงูุฅุถุงูุฉุ ุจูุง ูู ุฐูู ููุทูุฉ ุฑูุน ุงูุตูุฑ ุงูุชูุงุนููุฉ.

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
ุงูููุทู ุงูุจุฑูุฌู ููุณู ุฅูู 5 ูููุงุช:

1. **`add1_config.js`**:
   - ุงูุซูุงุจุช: ุฃุจุนุงุฏ ุงูุถุบุท (1600px)ุ ุงูุฌูุฏุฉ (0.75)ุ ูุงูุญุฏ ุงูุฃูุตู (6 ุตูุฑ).
   - ุงูุญุงูุฉ: ูุตูููุฉ ุงูุตูุฑ `add1_images` ูุนูู ุงููุนุงูุฌุฉ `isProcessingFilesAdd1`.

2. **`add1_utils.js`**:
   - ุฃุฏูุงุช ุนุฑุถ ุงูุฃุฎุทุงุก ุงููุฎุตุตุฉ (`add1_showError`).
   - ุฏูุงู ุงูุชูุณูู ุงููุณุงุนุฏุฉ ูุชูููุฏ ุงููุนุฑูุงุช ุงููุฑูุฏุฉ ููุตูุฑ.

3. **`add1_image.js`**:
   - ูุนุงูุฌุฉ ุงูุตูุฑ: ูุญุต ุฏุนู `WebP` ูุชูููุฐ ุงูุถุบุท ุงููุชูุงูู ูุน ุฐุงูุฑุฉ ุงูููุงุชู.
   - ูุฏูุฑ ุงููููุงุช ุงูุฌุฏูุฏุฉ (`add1_handleNewFiles`) ุงูุฐู ููุธู ุนูููุฉ ุงูุชุญูู ูุงูุถุบุท.

4. **`add1_ui.js`**:
   - ุฅุฏุงุฑุฉ ุนูุงุตุฑ DOM ููุณุชูุนู ุงูุฃุญุฏุงุซ.
   - ุฅูุดุงุก ูุนุงููุงุช ุงูุตูุฑ (`add1_createPreviewItem`) ูุญุฐููุง.
   - ุชุดุบูู ุงููุงููุฑุง ุนุจุฑ ูุงุฌูุฉ ุงููุธุงู (Capture Environment) ููููุจุงูู.
   - ุนุฏุงุฏุงุช ุงูุญุฑูู ุงููุญุธูุฉ ูููุงุชุฑ ุงูุญููู ุงูุฑูููุฉ.

5. **`add1_submit.js`**:
   - ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูุญููู (6 ุชุญููุงุช ุฃุณุงุณูุฉ).
   - ุฅุฏุงุฑุฉ ุญุงูุฉ ุฒุฑ ุงูุฅุฑุณุงู (`add1_setSubmitLoading`).
   - ุชูููุฏ ุงูุฑูู ุงูุชุณูุณููุ ุฑูุน ุงูุตูุฑ ููุณุญุงุจุฉุ ูุญูุธ ุงูุจูุงูุงุช ุงูููุงุฆูุฉ.
   - ุฅุฎุทุงุฑ ุงูุฅุฏุงุฑุฉ ุจุฅุถุงูุฉ ุงูููุชุฌ ุงูุฌุฏูุฏ.

## โ๏ธ ุณูุฑ ุงูุนูู (Workflow)
1. ูุชู ุงุฎุชูุงุฑ ุงูุตูุฑ ุฃู ุงูุชูุงุทูุง.
2. ูุชู ุถุบุท ุงูุตูุฑ ููุฑุงู ูู ุงูุฎูููุฉ ูุนุฑุถ ุญุฌููุง ุงูููุงุฆู ูุชูููู ููุช ุงูุฑูุน.
3. ุนูุฏ ุงูุฅุฑุณุงูุ ูุชู ุงูุชุฃูุฏ ูู ุงูุชูุงู ูุงูุฉ ุงูุจูุงูุงุช.
4. ูุชู ุฑูุน ุงูุตูุฑ ุฅูู Cloudflare R2 ูุงูุญุตูู ุนูู ุงูุฑูุงุจุท.
5. ูุชู ุญูุธ ุงูุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุฑุณุงู ุฅุดุนุงุฑ ููุฑู ููุฅุฏุงุฑุฉ.

---

# ุชูุซูู ูุญุฏุฉ ุชุนุฏูู ุงูููุชุฌ (ProductEdit)

ุชุนุชุจุฑ ูุญุฏุฉ `productEdit` ุงููุณุคููุฉ ุนู ูุงุฌูุฉ ุชุนุฏูู ุงูููุชุฌุงุช ูุงูุฎุฏูุงุช ุงูุญุงููุฉ ูู ุงููุธุงู. ุชู ุชุตููููุง ูุชููู ูุนูุงุฑูุฉ (Modular) ูููุธูุฉ ุจุดูู ูุณูู ุตูุงูุชูุง.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productEdit/`

- **`productEdit.html`**: ูุญุฏุฏ ุจููุฉ ุงููููุฐุฌ (Form) ูุญููู ุงูุฅุฏุฎุงูุ ูููุทูุฉ ุฑูุน ุงูุตูุฑุ ููุณูู ุงูุณูุฑุจุช ูููููุงุช ุงููุนูุงุฑูุฉ.
- **`productEdit.css`**: ูุญุชูู ุนูู ุงูุชุตุงููู ุงูุนุตุฑูุฉ ูููููุฐุฌุ ูุดุจูุฉ ูุนุงููุฉ ุงูุตูุฑุ ูุงูุชูุณููุงุช ุงููุชุฌุงูุจุฉ ูุน ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ.

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
ุชู ุชูุณูู ุงูููุทู ุงูุจุฑูุฌู ุฅูู 6 ูููุงุช ุฃุณุงุณูุฉ:

1.  **`edit_config.js`**:
    - ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุซุงุจุชุฉ ูุถุบุท ุงูุตูุฑ (ุงูุนุฑุถ ุงูุฃูุตู 1600pxุ ุงูุฌูุฏุฉ 0.75).
    - ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ (Global State) ูุซู ูุตูููุฉ ุงูุตูุฑ ุงูุญุงููุฉ ูุฃุณูุงุก ุงูุตูุฑ ุงูุฃุตููุฉ.
    - ูุฏุนู ูุงุฆู `window.productModule` ููุชูุงูููุฉ.

2.  **`edit_utils.js`**:
    - ุฏูุงู ูุณุงุนุฏุฉ ูุนุฑุถ ูุฅุฒุงูุฉ ุฑุณุงุฆู ุงูุฎุทุฃ (`EDIT_showError`, `EDIT_clearError`).
    - ุฏุงูุฉ ุชุญููู ุฃุญุฌุงู ุงููููุงุช ููุต ููุฑูุก (`EDIT_formatBytes`).
    - ุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ูุนูุงุตุฑ ุงููุนุงููุฉ (`EDIT_genId`).

3.  **`edit_image.js`**:
    - ูุญุต ุฏุนู ุงููุชุตูุญ ูุชูุณูู `WebP`.
    - ูุนุงูุฌุฉ ุถุบุท ุงูุตูุฑ ุจุงุณุชุฎุฏุงู `Canvas` ูุชุญุณูู ุงูุฃุฏุงุก ูุชูููู ุญุฌู ุงูุฑูุน.
    - ุชุญููู ุงูุตูุฑ ุงูููุฌูุฏุฉ ูุณุจูุงู ูู Cloudflare R2 ุนูุฏ ูุชุญ ุตูุญุฉ ุงูุชุนุฏูู.
    - ูุนุงูุฌุฉ ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ ูููุชุฑุชูุง.

4.  **`edit_ui.js`**:
    - ุฅุฏุงุฑุฉ ุฃุญุฏุงุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑ ุงููููุงุชุ ุชุดุบูู ุงููุงููุฑุง).
    - ุฅูุดุงุก ุนูุงุตุฑ ุงููุนุงููุฉ (Previews) ุฏููุงููููุงู ูุฅุฏุงุฑุชูุง.
    - ุชูููุฐ ููุฒุฉ ุงููุงููุฑุง ูุณุทุญ ุงูููุชุจ (Webcam Capture).
    - ุนุฏุงุฏุงุช ุงูุญุฑูู ุงููุญุธูุฉ ููุญููู ุงููุตูุฉ ูุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช ุงูุฑูููุฉ.

5.  **`edit_submit.js`**:
    - ูุนุงูุฌ ุฅุฑุณุงู ุงููููุฐุฌ (Submit Handler).
    - ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช (Validation) ูุจู ุงูุจุฏุก ุจุงูุฑูุน.
    - ุงูุชุดุงู ุงูุชุบููุฑุงุช (Change Detection) ูููุน ุงูุญูุธ ุฅุฐุง ูู ูุชู ุชุนุฏูู ุฃู ุจูุงูุงุช.
    - ุฑูุน ุงูุตูุฑ ุงูุฌุฏูุฏุฉ ุฅูู Cloudflare ูุญุฐู ุงูุตูุฑ ุงูุชู ุชูุช ุฅุฒุงูุชูุง.
    - ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุนุงุฏุฉ ุถุจุท ุญุงูุฉ ุงูููุงููุฉ ูู "ููุฏ ุงูุงูุชุธุงุฑ".

6.  **`edit_init.js`**:
    - ุงููุญุฑู ุงูุฃุณุงุณู ูุชููุฆุฉ ุงูุตูุญุฉ.
    - ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงูููุชุฌ ูู `productSession` ูุชูุฒูุนูุง ุนูู ุงูุญููู ุงูููุงุณุจุฉ.
    - ุชูุนูู ุงูุฃุญุฏุงุซ ุงูุฃูููุฉ ูุถูุงู ุนูู ุงูุนุฏุงุฏุงุช ุจุดูู ุตุญูุญ ููุฑ ุงูุชุญููู.

## ๐ ุงูุชุจุนูุงุช ุงูุฎุงุฑุฌูุฉ
ุชุนุชูุฏ ุงููุญุฏุฉ ุนูู ุงูุฃุฏูุงุช ุงูุชุงููุฉ:
- **SweetAlert2 (Swal)**: ููุฑุณุงุฆู ุงูุชูุงุนููุฉ ูุชุฃููุฏุงุช ุงูุญุฐู.
- **FontAwesome**: ููุฃููููุงุช.
- **Cloudflare R2 APIS**: ูุฑูุน ูุญุฐู ุงููููุงุช.
- **Internal Database APIs**: ูุซู `updateProduct` ู `notifyAdminOnItemUpdate`.

---

# ุชูุซูู ูุญุฏุฉ ุนุฑุถ ุงูููุชุฌ (ProductView)

ุงููุณุคููุฉ ุนู ุนุฑุถ ุชูุงุตูู ุงูููุชุฌุงุช ุงูุนุงุฏูุฉ ูุน ุฅููุงููุฉ ุชุญุฏูุฏ ุงููููุฉ ูุงูุฅุถุงูุฉ ููุณูุฉ.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productView/`

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
1. **`view_config.js`**: ูุฏูุฑ ุงูุญุงูุฉ ุงููุญููุฉ ูููุงุฌูุฉ (UI State).
2. **`view_utils.js`**: ูุญุชูู ุนูู ุฏุงูุฉ `productView_updateTotalPrice` ูุญุณุงุจ ุงูุฅุฌูุงูู ูุญุธูุงู.
3. **`view_ui.js`**:
   - `productView_getDomElements`: ุฌูุจ ุนูุงุตุฑ ุงูู DOM ูุถูุงู ุนุฏู ูุฌูุฏ ูุฑุงุฌุน ูุฏููุฉ.
   - `productView_populateThumbnails`: ุฅูุดุงุก ูุนุฑุถ ุงูุตูุฑ ุงูุชูุงุนูู.
   - `productView_setupQuantityControls`: ุฅุฏุงุฑุฉ ุฃุฒุฑุงุฑ ุงูุฒูุงุฏุฉ ูุงูููุตุงู ูุงูุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู.
   - `productView_setupAddToCart`: ุฑุจุท ุจูุงูุงุช ุงูููุชุฌ ุจููุทู ุงูุณูุฉ ุงูุนุงููู.
4. **`view_init.js`**:
   - `productView_viewDetails`: ุงูุฏุงูุฉ ุงููุฑูุฒูุฉ ุงูุชู ุชูุธู ุชูุฒูุน ุงูุจูุงูุงุช ุนูู ุงููุงุฌูุฉ ูุชุทุจู ููุทู ุงูุฃุฏูุงุฑ (ุฅุฎูุงุก/ุฅุธูุงุฑ ุจูุงูุงุช ุงูุจุงุฆุน ูุงููุณุคูู).

---
