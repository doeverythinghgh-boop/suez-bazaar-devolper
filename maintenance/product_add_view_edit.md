
# ุชูุซูู ูุญุฏุฉ ุฅุถุงูุฉ ุงูููุชุฌ (ProductAdd - Add1)

ุชุนุชุจุฑ ูุญุฏุฉ `productAdd` ุงููุณุคููุฉ ุนู ูุงุฌุฉ ุฅุถุงูุฉ ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ูููุธุงู (Add1). ุชุนุชูุฏ ุนูู ููุณ ุงูููุณูุฉ ุงููุนูุงุฑูุฉ ูุณูููุฉ ุงูุชุทููุฑ.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productAdd/`

- **`productAdd.css`**: ุงูุชุตูููุงุช ุงูุฎุงุตุฉ ุจูุงุฌูุฉ ุงูุฅุถุงูุฉุ ุจูุง ูู ุฐูู ููุทูุฉ ุฑูุน ุงูุตูุฑ ุงูุชูุงุนููุฉ.

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
ุงูููุทู ุงูุจุฑูุฌู ููุณู ุฅูู 5 ูููุงุช:

1. **`add1_config.js`**:
   - ุงูุซูุงุจุช: ุฃุจุนุงุฏ ุงูุถุบุท (1600px)ุ ุงูุฌูุฏุฉ (0.75)ุ ูุงูุญุฏ ุงูุฃูุตู (6 ุตูุฑ).
   - ุงูุญุงูุฉ: ูุตูููุฉ ุงูุตูุฑ `add1_images` ูุนูู ุงููุนุงูุฌุฉ `isProcessingFilesAdd1`.

2. **`add1_utils.js`**:
   - ุฃุฏูุงุช ุนุฑุถ ุงูุฃุฎุทุงุก ุงููุฎุตุตุฉ (`add1_showError`).
   - ุฏูุงู ุงูุชูุณูู ุงููุณุงุนุฏุฉ ูุชูููุฏ ุงููุนุฑูุงุช ุงููุฑูุฏุฉ ููุตูุฑ.

3. **`add1_image.js`**:
   - ูุนุงูุฌุฉ ุงูุตูุฑ: ูุญุต ุฏุนู `WebP` ูุชูููุฐ ุงูุถุบุท ุงููุชูุงูู ูุน ุฐุงูุฑุฉ ุงูููุงุชู.
   - ูุฏูุฑ ุงููููุงุช ุงูุฌุฏูุฏุฉ (`add1_handleNewFiles`) ุงูุฐู ููุธู ุนูููุฉ ุงูุชุญูู ูุงูุถุบุท.

4. **`add1_ui.js`**:
   - ุฅุฏุงุฑุฉ ุนูุงุตุฑ DOM ููุณุชูุนู ุงูุฃุญุฏุงุซ.
   - ุฅูุดุงุก ูุนุงููุงุช ุงูุตูุฑ (`add1_createPreviewItem`) ูุญุฐููุง.
   - ุชุดุบูู ุงููุงููุฑุง ุนุจุฑ ูุงุฌูุฉ ุงููุธุงู (Capture Environment) ููููุจุงูู.
   - ุนุฏุงุฏุงุช ุงูุญุฑูู ุงููุญุธูุฉ ูููุงุชุฑ ุงูุญููู ุงูุฑูููุฉ.
   - **ุนุฑุถ ุจุทุงูุงุช ุงููุฆุงุช (`add1_renderCategories`)**: ุฌูุจ ุฃุณูุงุก ุงููุฆุงุช ุงููุฎุชุงุฑุฉ ูู `ProductStateManager.resolveCategoryNames()` ูุนุฑุถูุง ูุจุทุงูุงุช ููููุฉ ุชุญุช ุนููุงู ุงูุตูุญุฉ.
   - **ุฒุฑ "ุชุฌุงูู ุงูุชุนุฏููุงุช" (`add1_btn_discard`)**: ุนุฑุถ ูุงูุฐุฉ ุชุฃููุฏ SweetAlert2 ุนุตุฑูุฉุ ุซู ูุณุญ ุงูุญุงูุฉ ูู `ProductStateManager` ูุชูุธูู ุงูุญุงููุฉ ูุงูุนูุฏุฉ ููุฎูู ุนุจุฑ `containerGoBack()`.

5. **`add1_submit.js`**:
   - ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูุญููู (6 ุชุญููุงุช ุฃุณุงุณูุฉ).
   - ุฅุฏุงุฑุฉ ุญุงูุฉ ุฒุฑ ุงูุฅุฑุณุงู (`add1_setSubmitLoading`).
   - ุชูููุฏ ุงูุฑูู ุงูุชุณูุณููุ ุฑูุน ุงูุตูุฑ ููุณุญุงุจุฉุ ูุญูุธ ุงูุจูุงูุงุช ุงูููุงุฆูุฉ.
   - ุฅุฎุทุงุฑ ุงูุฅุฏุงุฑุฉ ุจุฅุถุงูุฉ ุงูููุชุฌ ุงูุฌุฏูุฏ.

## โ๏ธ ุณูุฑ ุงูุนูู ุงูุชููู (Detailed Workflow)

1.  **ุนุฑุถ ุงููุฆุงุช ุงููุฎุชุงุฑุฉ**: ุนูุฏ ุชุญููู ุงูุตูุญุฉุ ูุชู ุงุณุชุฏุนุงุก `add1_renderCategories()` ูุฌูุจ ุฃุณูุงุก ุงููุฆุงุช ุงูุฑุฆูุณูุฉ ูุงููุฑุนูุฉ ูู `shared/list.json` ุนุจุฑ `ProductStateManager.resolveCategoryNames()` ูุนุฑุถูุง ูุจุทุงูุงุช ููููุฉ (`add1_category_badges`) ุชุญุช ุนููุงู ุงูุตูุญุฉ ูุจุงุดุฑุฉ.
2.  **ูุนุงูุฌุฉ ุงูุตูุฑ**: ูุชู ุถุบุท ุงูุตูุฑ ููุฑ ุงุฎุชูุงุฑูุง ุจุงุณุชุฎุฏุงู `add1_handleNewFiles`. ูุชู ุชุญููู ุงูุตูุฑ ุฅูู ุชูุณูู `WebP` (ุฅุฐุง ูุงู ูุฏุนููุงู) ูุชูููู ุญุฌู ุงูุจูุงูุงุช ุงููุฑููุนุฉ.
3.  **ุงูุชุญูู ูู ุงูุจูุงูุงุช (Validation)**: ูุชู ุชูููุฐ 6 ุชุญููุงุช ุฃุณุงุณูุฉ ูุจู ุงูุจุฏุก ุจุงูุฅุฑุณุงู:
    - ูุฌูุฏ ุตูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุฃูู.
    - ุงุณู ุงูููุชุฌ (ูุทููุจ).
    - ูุตู ุงูููุชุฌ (10 ุฃุญุฑู ูุญุฏ ุฃุฏูู).
    - ุฑุณุงูุฉ ุงูุจุงุฆุน (10 ุฃุญุฑู ูุญุฏ ุฃุฏูู).
    - ุงููููุฉ (ุฃูุจุฑ ูู 0).
    - ุงูุณุนุฑ (ุฑูู ููุฌุจ).
4.  **ุชูููุฏ ุงููุนุฑูุงุช**: ูุชู ุงุณุชุฎุฏุงู `generateSerial()` ูุฅูุดุงุก ูุนุฑู ูุฑูุฏ ููููุชุฌ (`product_key`).
5.  **ุญูุธ ุงูุจูุงูุงุช**:
    - **ุงูุฑูุน ุงูุณุญุงุจู**: ูุชู ุฑูุน ุงูุตูุฑ ุฅูู Cloudflare R2 ุจุงุณุชุฎุฏุงู `uploadFile2cf`. ุงูุฃููููุฉ ูุชูุณูู `.webp`.
    - **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูุชู ุงุณุชุฏุนุงุก ุฏุงูุฉ `addProduct` (ุนุจุฑ `dbResult`) ูุฅุฑุณุงู ูุงุฆู `productData` ุงูููุงุฆู.
    - **ุงูุฅุฎุทุงุฑุงุช**: ูุชู ุงุณุชุฏุนุงุก `notifyAdminOnNewItem` ูุฅุฑุณุงู ุฅุดุนุงุฑ ููุฑู ููุฏูุฑู ุงููุธุงู.
6.  **ุฅุนุงุฏุฉ ุงูุถุจุท (Form Reset)**: ุจุนุฏ ุงููุฌุงุญุ ูุชู ุชูุฑูุบ ุงููููุฐุฌุ ูุณุญ ูุตูููุฉ ุงูุตูุฑ `add1_images` ูุฅุนุงุฏุฉ ุนุฏุงุฏุงุช ุงูุญุฑูู ููุตูุฑ.
7.  **ุชุฌุงูู ุงูุชุนุฏููุงุช (Discard Changes)**: ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ "ุชุฌุงูู ุงูุชุนุฏููุงุช" (`add1_btn_discard`)ุ ูุชู ุนุฑุถ ูุงูุฐุฉ ุชุฃููุฏ SweetAlert2 ุนุตุฑูุฉ. ุนูุฏ ุงูุชุฃููุฏุ ูุชู ูุณุญ ุงููุฆุงุช ุงููุฎุชุงุฑุฉ ูู `ProductStateManager.setSelectedCategories(null, null)`ุ ุชูุธูู `data-page-url` ููุญุชูู ุงูุญุงููุฉุ ุซู ุงูุนูุฏุฉ ููุฎูู ุนุจุฑ `containerGoBack()`.


---

# ุชูุซูู ูุญุฏุฉ ุชุนุฏูู ุงูููุชุฌ (ProductEdit)

ุชุนุชุจุฑ ูุญุฏุฉ `productEdit` ุงููุณุคููุฉ ุนู ูุงุฌูุฉ ุชุนุฏูู ุงูููุชุฌุงุช ูุงูุฎุฏูุงุช ุงูุญุงููุฉ ูู ุงููุธุงู. ุชู ุชุตููููุง ูุชููู ูุนูุงุฑูุฉ (Modular) ูููุธูุฉ ุจุดูู ูุณูู ุตูุงูุชูุง.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productEdit/`

- **`productEdit.html`**: ูุญุฏุฏ ุจููุฉ ุงููููุฐุฌ (Form) ูุญููู ุงูุฅุฏุฎุงูุ ูููุทูุฉ ุฑูุน ุงูุตูุฑุ ููุณูู ุงูุณูุฑุจุช ูููููุงุช ุงููุนูุงุฑูุฉ.
- **`productEdit.css`**: ูุญุชูู ุนูู ุงูุชุตุงููู ุงูุนุตุฑูุฉ ูููููุฐุฌุ ูุดุจูุฉ ูุนุงููุฉ ุงูุตูุฑุ ูุงูุชูุณููุงุช ุงููุชุฌุงูุจุฉ ูุน ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ.

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
ุชู ุชูุณูู ุงูููุทู ุงูุจุฑูุฌู ุฅูู 6 ูููุงุช ุฃุณุงุณูุฉ:

1.  **`edit_config.js`**:
    - ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุซุงุจุชุฉ ูุถุบุท ุงูุตูุฑ (ุงูุนุฑุถ ุงูุฃูุตู 1600pxุ ุงูุฌูุฏุฉ 0.75).
    - ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ุงูุนุงูุฉ (Global State) ูุซู ูุตูููุฉ ุงูุตูุฑ ุงูุญุงููุฉ ูุฃุณูุงุก ุงูุตูุฑ ุงูุฃุตููุฉ.
    - ูุฏุนู ูุงุฆู `window.productModule` ููุชูุงูููุฉ.

2.  **`edit_utils.js`**:
    - ุฏูุงู ูุณุงุนุฏุฉ ูุนุฑุถ ูุฅุฒุงูุฉ ุฑุณุงุฆู ุงูุฎุทุฃ (`EDIT_showError`, `EDIT_clearError`).
    - ุฏุงูุฉ ุชุญููู ุฃุญุฌุงู ุงููููุงุช ููุต ููุฑูุก (`EDIT_formatBytes`).
    - ุชูููุฏ ูุนุฑูุงุช ูุฑูุฏุฉ ูุนูุงุตุฑ ุงููุนุงููุฉ (`EDIT_genId`).

3.  **`edit_image.js`**:
    - ูุญุต ุฏุนู ุงููุชุตูุญ ูุชูุณูู `WebP`.
    - ูุนุงูุฌุฉ ุถุบุท ุงูุตูุฑ ุจุงุณุชุฎุฏุงู `Canvas` ูุชุญุณูู ุงูุฃุฏุงุก ูุชูููู ุญุฌู ุงูุฑูุน.
    - ุชุญููู ุงูุตูุฑ ุงูููุฌูุฏุฉ ูุณุจูุงู ูู Cloudflare R2 ุนูุฏ ูุชุญ ุตูุญุฉ ุงูุชุนุฏูู.
    - ูุนุงูุฌุฉ ุงููููุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ ูููุชุฑุชูุง.

4.  **`edit_ui.js`**:
    - ุฅุฏุงุฑุฉ ุฃุญุฏุงุซ ูุงุฌูุฉ ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑ ุงููููุงุชุ ุชุดุบูู ุงููุงููุฑุง).
    - ุฅูุดุงุก ุนูุงุตุฑ ุงููุนุงููุฉ (Previews) ุฏููุงููููุงู ูุฅุฏุงุฑุชูุง.
    - ุชูููุฐ ููุฒุฉ ุงููุงููุฑุง ูุณุทุญ ุงูููุชุจ (Webcam Capture).
    - ุนุฏุงุฏุงุช ุงูุญุฑูู ุงููุญุธูุฉ ููุญููู ุงููุตูุฉ ูุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช ุงูุฑูููุฉ.
    - **ุนุฑุถ ุจุทุงูุงุช ุงููุฆุงุช (`EDIT_renderCategories`)**: ุฌูุจ ุฃุณูุงุก ุงููุฆุงุช ุงููุฎุชุงุฑุฉ ูู `ProductStateManager.resolveCategoryNames()` ูุนุฑุถูุง ูุจุทุงูุงุช ููููุฉ ุชุญุช ุนููุงู ุงูุตูุญุฉ.
    - **ุฒุฑ "ุชุฌุงูู ุงูุชุนุฏููุงุช" (`edit_btn_discard`)**: ุนุฑุถ ูุงูุฐุฉ ุชุฃููุฏ SweetAlert2 ุนุตุฑูุฉุ ุซู ูุณุญ ุงูุญุงูุฉ ูู `ProductStateManager` ูุชูุธูู ุงูุญุงููุฉ ูุงูุนูุฏุฉ ููุฎูู ุนุจุฑ `containerGoBack()`.

5.  **`edit_submit.js`**:
    - ูุนุงูุฌ ุฅุฑุณุงู ุงููููุฐุฌ: ูุชููู ุนูููุฉ ุงูุฑูุน ุงูุณุญุงุจู ูุงูุญูุธ.
    - **ุงูุชุดุงู ุงูุชุบููุฑุงุช (Change Detection)**: ูุชู ููุงุฑูุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ ุจุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู `ProductStateManager.getCurrentProduct()`. ุฅุฐุง ูู ูุชู ุฅุฌุฑุงุก ุฃู ุชุบููุฑุ ูุชู ุชูุจูู ุงููุณุชุฎุฏู ูููุน ุงูุฅุฑุณุงู ุบูุฑ ุงูุถุฑูุฑู.
    - **ุฅุฏุงุฑุฉ ุงูุตูุฑ**: ูุชู ุฑูุน ุงูุตูุฑ ุงูุฌุฏูุฏุฉ ููุทุ ูุญุฐู ุงูุตูุฑ ุงูุชู ุฃุฒุงููุง ุงููุณุชุฎุฏู ูู ุงูุณุญุงุจุฉ ูุนููุงู ุนุจุฑ `deleteFile2cf`.
    - **ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูุชู ุงุณุชุฏุนุงุก `updateProduct` ูุน ุถุจุท `is_approved: 0` ูุฅุนุงุฏุฉ ูุฑุงุฌุนุฉ ุงูููุชุฌ ูู ูุจู ุงูุฅุฏุงุฑุฉ ุจุนุฏ ุงูุชุนุฏูู.

6.  **`edit_init.js`**:
    - **ุฌูุจ ุงูุจูุงูุงุช**: ูุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูู `ProductStateManager` ุงููุนุจุฃุฉ ูุณุจูุงู ุนูุฏ ุงุฎุชูุงุฑ ุงูููุชุฌ ููุชุนุฏูู.
    - ุชูุฒูุน ุงูุจูุงูุงุช: ูุชู ุชุนุจุฆุฉ ุงูุญููู ุงููุตูุฉุ ุงูุณุนุฑุ ุงููููุฉุ ูุงูุฃุณุนุงุฑ ุงูุฅุถุงููุฉ (ุณุนุฑ ุงูุชุทุจูู ูุงูุณุนุฑ ูุจู ุงูุฎุตู).

## ๐ ุชุฏูู ุงูุจูุงูุงุช (Data Flow)
1. ููุชุญ ุงููุณุชุฎุฏู ุตูุญุฉ ุงูุชุนุฏูู -> ูุชู ุชุญููู ุจูุงูุงุช ุงูููุชุฌ ูู `ProductStateManager`.
2. `edit_init.js` ูุณุชุฎุฑุฌ ุงูุจูุงูุงุช ููููุฃ ุงููููุฐุฌ.
3. `edit_ui.js` ูุณุชุฏุนู `EDIT_renderCategories()` ูุฌูุจ ูุนุฑุถ ุฃุณูุงุก ุงููุฆุงุช ุงููุฎุชุงุฑุฉ ูุจุทุงูุงุช ููููุฉ ูู `ProductStateManager.resolveCategoryNames()`.
4. `edit_image.js` ูููู ุจุชุญููู ุงูุตูุฑ ุงูุญุงููุฉ ูู ุงูุณุญุงุจุฉ ูุนุฑุถูุง ููุนุงููุงุช ูุงุจูุฉ ููุญุฐู.
5. ุนูุฏ ุงูุถุบุท ุนูู "ุชุญุฏูุซ" -> `edit_submit.js` ูุชุญูู ูู ูุฌูุฏ ุชุบููุฑุงุช ุญููููุฉ ุจููุงุฑูุชูุง ูุน ุงูุญุงูุฉ ูู `ProductStateManager`.
6. ูุชู ุฑูุน ุงูุตูุฑ ุงูุฌุฏูุฏุฉ -> ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช -> ุญุฐู ุงูุตูุฑ ุงููุฏููุฉ ูู R2 -> ุฅุฎุทุงุฑ ุงูุฅุฏุงุฑุฉ ุนุจุฑ `notifyAdminOnItemUpdate`.
7. ุนูุฏ ุงูุถุบุท ุนูู "ุชุฌุงูู ุงูุชุนุฏููุงุช" -> ุนุฑุถ ูุงูุฐุฉ ุชุฃููุฏ -> ูุณุญ ุงูุญุงูุฉ -> ุชูุธูู ุงูุญุงููุฉ -> ุงูุนูุฏุฉ ููุฎูู.


---

# ุชูุซูู ูุญุฏุฉ ุนุฑุถ ุงูููุชุฌ (ProductView)

ุงููุณุคููุฉ ุนู ุนุฑุถ ุชูุงุตูู ุงูููุชุฌุงุช ุงูุนุงุฏูุฉ ูุน ุฅููุงููุฉ ุชุญุฏูุฏ ุงููููุฉ ูุงูุฅุถุงูุฉ ููุณูุฉ.

## ๐ ูููู ุงููุฌูุฏ
ุงููุณุงุฑ: `pages/productView/`

### ๐ ูุฌูุฏ ุงูุจุฑูุฌูุงุช (js/)
1. **`view_config.js`**: ูุฏูุฑ ุงูุญุงูุฉ ุงููุญููุฉ ูููุงุฌูุฉ (UI State).
2. **`view_utils.js`**: ูุญุชูู ุนูู ุฏุงูุฉ `productView_updateTotalPrice` ูุญุณุงุจ ุงูุฅุฌูุงูู ูุญุธูุงู.
3. **`view_ui.js`**:
   - `productView_getDomElements`: ุฌูุจ ุนูุงุตุฑ ุงูู DOM ูุถูุงู ุนุฏู ูุฌูุฏ ูุฑุงุฌุน ูุฏููุฉ.
   - `productView_populateThumbnails`: ุฅูุดุงุก ูุนุฑุถ ุงูุตูุฑ ุงูุชูุงุนูู.
   - `productView_setupQuantityControls`: ุฅุฏุงุฑุฉ ุฃุฒุฑุงุฑ ุงูุฒูุงุฏุฉ ูุงูููุตุงู ูุงูุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู.
   - `productView_setupAddToCart`: ุฑุจุท ุจูุงูุงุช ุงูููุชุฌ ุจููุทู ุงูุณูุฉ ุงูุนุงููู.
4. **`view_init.js`**:
   - `productView_viewDetails`: ุงูุฏุงูุฉ ุงููุฑูุฒูุฉ ุงูุชู ุชูุธู ุชูุฒูุน ุงูุจูุงูุงุช ูุชููุฆุฉ ุงูุชูุงุนู.
   - **ููุทู ุญูุงูุฉ ุงูุฃุฏูุงุฑ ูุงูุนุฑุถ (Role-Based Display)**:
     - **ููุจุงุฆุน (Owner)**: ูุชู ุฅุธูุงุฑ "ุณุนุฑ ุงูุชุทุจูู" (Real Price) ููุณุงุนุฏุชู ูู ูุนุฑูุฉ ุงูุชูููุฉ ุงููุนููุฉ.
     - **ูููุณุคูู (Admin)**: ูุชู ุฅุธูุงุฑ ุจูุงูุงุช ุงูุจุงุฆุน (ุงูุงุณู ูุงูููุชุงุญ ุงูุชุนุฑููู) ููุชูุงุตู ุงูุณุฑูุน.
     - **ูููุดุชุฑู (Guest/User)**: ูุชู ุฅุฎูุงุก ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูุฅุธูุงุฑ ุงูุณุนุฑ ุงูููุงุฆู ูุฒุฑ "ุฅุถุงูุฉ ููุณูุฉ" ููุท.

### ๐ก๏ธ ุญุงููุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ (`productView_admin_seller_info`)
ูุฐุง ุงูุนูุตุฑ ูู ุงูุญุงููุฉ ุงููุฑูุฒูุฉ ูุนุฑุถ ุงูุจูุงูุงุช ุงูุชู ุชุชุทูุจ ุตูุงุญูุงุช ุฎุงุตุฉุ ููุชููุฒ ุจุฎุตุงุฆุต ูููุฉ ูุญุฏุฏุฉ:
- **ุงููุนุฑู (ID)**: `productView_admin_seller_info`
- **ุงููุฏู**: ุญูุงูุฉ ุฎุตูุตูุฉ ุงูุจุงุฆุน ูุนุฑุถ ุจูุงูุงุช ุงูุชูููุฉ (ุณุนุฑ ุงูุชุทุจูู) ููุท ููุฃุทุฑุงู ุงููุตุฑุญ ููุง.
- **ููุทู ุงูุธููุฑ (Access Control)**:
    - ูุธูุฑ **ูููุณุคูููู** (ูุชู ุงูุชุญูู ุนุจุฑ `ADMIN_IDS` ูู `config.js`).
    - ูุธูุฑ **ููุจุงุฆุน ุตุงุญุจ ุงูููุชุฌ** (ูุชู ุงูุชุญูู ุจูุทุงุจูุฉ `user_key` ุงููุณุชุฎุฏู ูุน `user_key` ุงูููุชุฌ).
    - ูุธูุฑ ูู **ุญุงูุฉ ุงูุชููุต** (Impersonation) ุนูุฏ ุงูุชุดุงู `originalAdminSession`.
- **ุงูููููุงุช ุงูุฏุงุฎููุฉ**:
    - **ุงูุนููุงู**: ูุต ุชูุจููู ูุชุบูุฑ ุฏููุงููููุงู ูููุงุณุจ ูููุฉ ุงููุดุงูุฏ ("ุจูุงูุงุช ุชุธูุฑ ููุฅุฏุงุฑุฉ ูุงูุจุงุฆุน ููุท").
    - **ุจูุงูุงุช ุงูุจุงุฆุน**: ุชุดูู ุงูุงุณู ุงููุณุชุนุงุฑ ูููุชุงุญ ุงููุณุชุฎุฏู ุงููุฑูุฏ (`user_key`).
    - **ุณุนุฑ ุงูุชุทุจูู (`productView_real_price_container`)**: ุนูุตุฑ ูุฑุนู ุฏุงุฎู ูุฐู ุงูุญุงููุฉ ูุนุฑุถ ุงูุณุนุฑ ุงูุฃุตูู (ุงูุชูููุฉ) ูู ุญูู `realPrice` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- **ุงูุฃูุงู**: ูุชู ุฅุฎูุงุก ูุฐู ุงูุญุงููุฉ ุชูุงูุงู ูู ุงูู DOM ุงูุงูุชุฑุงุถู (`display: none`) ููุง ูุชู ุชุนุจุฆุชูุง ุจุงูุจูุงูุงุช ุฅูุง ุจุนุฏ ุชุฌุงูุฒ ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช ูู ููู `view_init.js`.

## ๐ ุชูุงูู ุญุงูุฉ ุงูุจูุงูุงุช (State Integration)
 ุชุนุชูุฏ ุงููุญุฏุฉ ุนูู `ProductStateManager.getCurrentProduct()` (ุงููุธุงู ุงูููุญุฏ ูุชุจุงุฏู ุงูุจูุงูุงุช) ูุฌูุจ ุจูุงูุงุช ุงูููุชุฌ ูุงุฎุชูุงุฑุงุช ุงูุนุฑุถ.

- **ูุญุต ุงูุฌูุณุฉ**: ูุชู ุงุณุชุฏุนุงุก `showLoginAlert()` ูุจู ุงูุณูุงุญ ุจุงูุฅุถุงูุฉ ููุณูุฉ ูุถูุงู ุชุณุฌูู ุฏุฎูู ุงููุณุชุฎุฏู.

##  ุฃูุงูู ุงูุธููุฑ ูู ุงููุดุฑูุน
ูุชู ุงุณุชุฏุนุงุก ูุงุฌูุฉ `ProductView` ุฏููุงููููุงู ูู 5 ููุงูุน ุฑุฆูุณูุฉ:
1.  **ูุนุฑุถ ุงูุชุตูููุงุช (`categories.js`)**: ุนูุฏ ุงูููุฑ ุนูู ุฃู ููุชุฌ ุฏุงุฎู ูุฆุฉ ูุนููุฉ.
2.  **ูุชุงุฆุฌ ุงูุจุญุซ (`search.js`)**: ุนูุฏ ุงูููุฑ ุนูู ููุชุฌ ูู ูุชุงุฆุฌ ุงูุจุญุซ.
3.  **ุฅุฏุงุฑุฉ ููุชุฌุงุชู (`product2Me.js`)**: ูุณุชุฎุฏููุง ุงูุจุงุฆุน ููุนุงููุฉ ุชูุงุตูู ููุชุฌู ุงูุฎุงุต.
4.  **ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ (`pendingProducts.js`)**: ูุณุชุฎุฏููุง ุงููุณุคูู ููุนุงููุฉ ุงูููุชุฌุงุช ุงููุนููุฉ ุจุงูุชุธุงุฑ ุงูููุงููุฉ.
5.  **ุชูุงุตูู ุงูุทูุจุงุช (`sales-movement.js`)**: ุชุธูุฑ ุนูุฏ ุงูููุฑ ุนูู ุงุณู ููุชุฌ ุฏุงุฎู ุฌุฏูู "ุญุฑูุฉ ุงููุจูุนุงุช" ุฃู ุงูู Stepper ููุฑุงุฌุนุฉ ููุงุตูุงุชู.

## ๐๏ธ ุงูุญุงูุงุช ุงููุธูููุฉ (Display States)
ุชุชุบูุฑ ุงููุงุฌูุฉ ุจูุงุกู ุนูู **ุฎูุงุฑุงุช ุงูุนุฑุถ** ู**ุฏูุฑ ุงููุณุชุฎุฏู**:

| ุงูุญุงูุฉ | ุฎูุงุฑ `showAddToCart` | ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ | ูุตู ุงูุญุงูุฉ |
| :--- | :--- | :--- | :--- |
| **ูุดุชุฑู ุนุงู** | `true` | โ ูุฎููุฉ | ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ ุนูุฏ ุงูุชุตูุญ ูุงูุดุฑุงุก. |
| **ุจุงุฆุน (Owner)** | `false` | โ ุธุงูุฑุฉ | ุนูุฏ ุฏุฎูู ุงูุจุงุฆุน ููุนุงููุฉ ููุชุฌู ูู "ููุชุฌุงุชู". |
| **ูุณุคูู (Admin)** | `true/false` | โ ุธุงูุฑุฉ | ุนูุฏ ุฑูุงุจุฉ ุงูููุชุฌ ุฃู ูุชุงุจุนุฉ ุทูุจ ูู "ุญุฑูุฉ ุงููุจูุนุงุช". |

## ๐ ุฌุฑุฏ ุงูุจูุงูุงุช (Data Schema)
ุชุณุชูุจู ุงูุฏุงูุฉ `productView_viewDetails` ูุงุฆู ุจูุงูุงุช ุงูููุชุฌ ุจุงูุจููุฉ ุงูุชุงููุฉ:

| ุงูุญูู | ุงููุตู | ุงูุธููุฑ |
| :--- | :--- | :--- |
| `productName` | ุงุณู ุงูููุชุฌ ุงูุฃุณุงุณู | ููุฌููุน |
| `pricePerItem` | ุณุนุฑ ุงูุจูุน ุงูุญุงูู | ููุฌููุน |
| `original_price` | ุงูุณุนุฑ ูุจู ุงูุฎุตู (ุฅู ูุฌุฏ) | ููุฌููุน |
| `availableQuantity` | ุงููููุฉ ุงููุชููุฑุฉ ูู ุงููุฎุฒู | ููุฌููุน |
| `description` | ุงููุตู ุงูุชูุตููู ููููุชุฌ | ููุฌููุน |
| `sellerMessage` | ููุงุญุธุฉ ุงูุจุงุฆุน ูููุดุชุฑูู | ููุฌููุน |
| `imageSrc` | ูุตูููุฉ ุฑูุงุจุท ุงูุตูุฑ (Gallery) | ููุฌููุน |
| `sellerName` | ุงุณู ุงูุจุงุฆุน ุงูุญูููู | ููุฅุฏุงุฑุฉ ูุงูุจุงุฆุน ููุท |
| `user_key` | ุงููุนุฑู ุงููุฑูุฏ ููุจุงุฆุน | ููุฅุฏุงุฑุฉ ูุงูุจุงุฆุน ููุท |
| `realPrice` | ุณุนุฑ ุงูุชูููุฉ (ุณุนุฑ ุงูุชุทุจูู) | ููุฅุฏุงุฑุฉ ูุงูุจุงุฆุน ููุท |


---
